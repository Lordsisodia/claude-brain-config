var G=Object.defineProperty,M=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var P=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var k=(i,a,s)=>a in i?G(i,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[a]=s,U=(i,a)=>{for(var s in a||(a={}))W.call(a,s)&&k(i,s,a[s]);if(P)for(var s of P(a))q.call(a,s)&&k(i,s,a[s]);return i},T=(i,a)=>M(i,A(a));var S=(i,a,s)=>new Promise((r,o)=>{var c=l=>{try{u(s.next(l))}catch(h){o(h)}},n=l=>{try{u(s.throw(l))}catch(h){o(h)}},u=l=>l.done?r(l.value):Promise.resolve(l.value).then(c,n);u((s=s.apply(i,a)).next())});import{j as e,m as t,bU as Q,aR as z,bQ as J,dD as K,L as _,bp as L,Y as R,I as B,B as C,r as j}from"./vendor-C50ijZWh.js";import{C as O,h as Y,a as V,b as X,c as Z,I as b,u as $,s as H}from"./index-Blbobipf.js";import{T as E}from"./textarea-B56zo4Tx.js";import{s as p}from"./typeHelpers-CXqKcVsn.js";const v=({icon:i,title:a,children:s,className:r,isEditing:o})=>e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.01},className:"will-change-transform",children:e.jsxs(O,{className:Y("bg-black/20 border-siso-text/10 backdrop-blur-sm transition-all duration-300","hover:border-siso-orange/20 hover:shadow-lg hover:shadow-siso-orange/5",o&&"border-siso-orange/30",r),children:[e.jsx(V,{children:e.jsxs(X,{className:"text-siso-text-bold flex items-center gap-2 text-lg",children:[e.jsx(i,{className:"w-5 h-5 text-siso-orange"}),a]})}),e.jsx(Z,{children:e.jsx(t.div,{initial:!1,animate:o?{scale:1.01}:{scale:1},transition:{duration:.2},children:s})})]})}),m=({label:i,children:a,className:s})=>e.jsxs(t.div,{className:Y("space-y-1",s),initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx("p",{className:"text-sm text-siso-text/70",children:i}),e.jsx(t.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2,delay:.1},children:a})]}),D=({email:i,fullName:a,professionalRole:s,isEditing:r,formData:o,onFormChange:c})=>e.jsx(v,{icon:Q,title:"Basic Information",isEditing:r,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Email",children:e.jsx("p",{className:"text-siso-text",children:i})}),e.jsx(m,{label:"Full Name",children:r?e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx(b,{value:o.fullName,onChange:n=>c("fullName",n.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20"})}):e.jsx(t.p,{className:"text-siso-text",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a||"Not set"})}),e.jsx(m,{label:"Professional Role",children:r?e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx(b,{value:o.professionalRole,onChange:n=>c("professionalRole",n.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20",placeholder:"e.g., Software Engineer, Product Manager"})}):e.jsx(t.p,{className:"text-siso-text",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s||"Not set"})})]})}),F=({businessName:i,businessType:a,industry:s,isEditing:r,formData:o,onFormChange:c})=>e.jsx(v,{icon:z,title:"Business Information",isEditing:r,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Business Name",children:r?e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx(b,{value:o.businessName,onChange:n=>c("businessName",n.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20"})}):e.jsx(t.p,{className:"text-siso-text",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i||"Not set"})}),e.jsx(m,{label:"Business Type",children:r?e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx(b,{value:o.businessType,onChange:n=>c("businessType",n.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20"})}):e.jsx(t.p,{className:"text-siso-text",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a||"Not set"})}),e.jsx(m,{label:"Industry",children:r?e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx(b,{value:o.industry,onChange:n=>c("industry",n.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20"})}):e.jsx(t.p,{className:"text-siso-text",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s||"Not set"})})]})}),ee=({interests:i,bio:a,isEditing:s,formData:r,onFormChange:o})=>e.jsx(v,{icon:J,title:"Interests & Bio",isEditing:s,children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{label:"Interests",children:s?e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx(b,{placeholder:"Interests (comma-separated)",value:r.interests,onChange:c=>o("interests",c.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20"})}):e.jsx(t.p,{className:"text-siso-text",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(i==null?void 0:i.join(", "))||"No interests set"})}),e.jsx(m,{label:"Bio",children:s?e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:e.jsx(E,{placeholder:"Tell us about yourself...",value:r.bio,onChange:c=>o("bio",c.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20 min-h-[100px]"})}):e.jsx(t.p,{className:"text-siso-text",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a||"No bio set"})})]})}),se=({linkedinUrl:i,websiteUrl:a,youtubeUrl:s,instagramUrl:r,twitterUrl:o,isEditing:c,formData:n,onFormChange:u})=>e.jsx(v,{icon:K,title:"Social Media & Links",isEditing:c,children:e.jsx("div",{className:"space-y-4",children:c?e.jsxs(t.div,{className:"space-y-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 text-siso-text/70"}),e.jsx(b,{placeholder:"LinkedIn URL",value:n.linkedinUrl,onChange:l=>u("linkedinUrl",l.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-siso-text/70"}),e.jsx(b,{placeholder:"Website URL",value:n.websiteUrl,onChange:l=>u("websiteUrl",l.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4 text-siso-text/70"}),e.jsx(b,{placeholder:"YouTube URL",value:n.youtubeUrl,onChange:l=>u("youtubeUrl",l.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4 text-siso-text/70"}),e.jsx(b,{placeholder:"Instagram URL",value:n.instagramUrl,onChange:l=>u("instagramUrl",l.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4 text-siso-text/70"}),e.jsx(b,{placeholder:"Twitter URL",value:n.twitterUrl,onChange:l=>u("twitterUrl",l.target.value),className:"bg-siso-bg-alt border-siso-border focus:border-siso-orange/50 focus:ring-siso-orange/20"})]})]}):e.jsxs(t.div,{className:"space-y-2",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[i&&e.jsxs(t.a,{href:i,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-siso-text hover:text-siso-red transition-colors",whileHover:{x:5},transition:{duration:.2},children:[e.jsx(_,{className:"w-4 h-4"}),"LinkedIn"]}),a&&e.jsxs(t.a,{href:a,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-siso-text hover:text-siso-red transition-colors",whileHover:{x:5},transition:{duration:.2},children:[e.jsx(L,{className:"w-4 h-4"}),"Website"]}),s&&e.jsxs(t.a,{href:s,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-siso-text hover:text-siso-red transition-colors",whileHover:{x:5},transition:{duration:.2},children:[e.jsx(R,{className:"w-4 h-4"}),"YouTube"]}),r&&e.jsxs(t.a,{href:r,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-siso-text hover:text-siso-red transition-colors",whileHover:{x:5},transition:{duration:.2},children:[e.jsx(B,{className:"w-4 h-4"}),"Instagram"]}),o&&e.jsxs(t.a,{href:o,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-siso-text hover:text-siso-red transition-colors",whileHover:{x:5},transition:{duration:.2},children:[e.jsx(C,{className:"w-4 h-4"}),"Twitter"]}),!i&&!a&&!s&&!r&&!o&&e.jsx("p",{className:"text-siso-text/70",children:"No social media links set"})]})})}),ne=({email:i,fullName:a,professionalRole:s,businessName:r,businessType:o,industry:c,interests:n,bio:u,linkedinUrl:l,websiteUrl:h,youtubeUrl:N,instagramUrl:w,twitterUrl:g,isEditing:f,formData:x,onFormChange:y})=>e.jsxs("div",{className:"grid gap-6",children:[e.jsx(D,{email:i,fullName:a,professionalRole:s,isEditing:f,formData:x,onFormChange:y}),e.jsx(F,{businessName:r,businessType:o,industry:c,isEditing:f,formData:x,onFormChange:y}),e.jsx(ee,{interests:n,bio:u,isEditing:f,formData:x,onFormChange:y}),e.jsx(se,{linkedinUrl:l,websiteUrl:h,youtubeUrl:N,instagramUrl:w,twitterUrl:g,isEditing:f,formData:x,onFormChange:y})]}),le=()=>{const[i,a]=j.useState(null),[s,r]=j.useState(null),[o,c]=j.useState(!0),[n,u]=j.useState(!1),{toast:l}=$(),[h,N]=j.useState({fullName:"",businessName:"",businessType:"",industry:"",interests:"",bio:"",linkedinUrl:"",websiteUrl:"",youtubeUrl:"",instagramUrl:"",twitterUrl:"",professionalRole:""});return j.useEffect(()=>{let g=!0;return S(void 0,null,function*(){try{const{data:{session:x},error:y}=yield H.auth.getSession();if(y){console.error("[Profile] Session error:",y);return}if(x!=null&&x.user&&g){console.log("[Profile] Session found:",x.user.id),a(x.user);const{data:d,error:I}=yield H.from("profiles").select("*").eq("id",x.user.id).single();if(I){console.error("[Profile] Profile fetch error:",I);return}d&&g&&(console.log("[Profile] Profile data found:",d),r(d),N({fullName:p(d,"full_name",""),businessName:p(d,"business_name",""),businessType:p(d,"business_type",""),industry:p(d,"industry",""),interests:Array.isArray(p(d,"interests",[]))?p(d,"interests",[]).join(", "):"",bio:p(d,"bio",""),linkedinUrl:p(d,"linkedin_url",""),websiteUrl:p(d,"website_url",""),youtubeUrl:p(d,"youtube_url",""),instagramUrl:p(d,"instagram_url",""),twitterUrl:p(d,"twitter_url",""),professionalRole:p(d,"professional_role","")}))}}catch(x){console.error("[Profile] Error in getProfile:",x),l({variant:"destructive",title:"Error",description:"Failed to load profile data"})}finally{g&&c(!1)}}),()=>{g=!1}},[]),{user:i,profile:s,loading:o,isEditing:n,formData:h,handleFormChange:(g,f)=>{N(x=>T(U({},x),{[g]:f}))},setIsEditing:u}};export{ne as P,le as u};
