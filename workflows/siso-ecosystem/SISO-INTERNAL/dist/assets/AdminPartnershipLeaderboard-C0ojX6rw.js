var U=Object.defineProperty,B=Object.defineProperties;var I=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var k=(r,i,a)=>i in r?U(r,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[i]=a,T=(r,i)=>{for(var a in i||(i={}))D.call(i,a)&&k(r,a,i[a]);if(A)for(var a of A(i))G.call(i,a)&&k(r,a,i[a]);return r},F=(r,i)=>B(r,I(i));import{j as e,a2 as S,ci as L,af as $,dF as V,cj as J,H as P,U as M,bx as Q,r as j,bT as H,a$ as O,c9 as W,X as z,K as q}from"./vendor-C50ijZWh.js";import{A as K}from"./AdminLayout-BZL16QJ9.js";import{A as X}from"./AdminPageTitle-BgXCcQq-.js";import{C as m,h as f,A as Y,p as Z,q as _,B as b,I as ee,d}from"./index-Blbobipf.js";import{S as se}from"./StatsCard-52fOWKx8.js";import{S as w,a as y,b as C,c as R,d as l}from"./select-Ba1tjTaP.js";import"./libs-B3eAAgHd.js";import"./supabase-D8k0GRjn.js";const re=({rankings:r,currentUser:i,onPartnerClick:a,showAdminControls:n=!1})=>{const h=s=>{switch(s){case 1:return e.jsx($,{className:"h-5 w-5 text-yellow-500"});case 2:return e.jsx(L,{className:"h-5 w-5 text-gray-400"});case 3:return e.jsx(S,{className:"h-5 w-5 text-orange-600"});default:return e.jsxs("span",{className:"text-lg font-bold text-gray-400",children:["#",s]})}},x=s=>{switch(s.direction){case"up":return e.jsx(P,{className:"h-4 w-4 text-green-500"});case"down":return e.jsx(J,{className:"h-4 w-4 text-red-500"});default:return e.jsx(V,{className:"h-4 w-4 text-gray-500"})}},g=s=>{switch(s){case"platinum":return"bg-purple-600 text-white";case"gold":return"bg-yellow-500 text-black";case"silver":return"bg-gray-400 text-black";case"bronze":return"bg-orange-600 text-white";default:return"bg-gray-600 text-white"}};return e.jsx("div",{className:"space-y-2",children:r.map(s=>e.jsx(m,{className:f("p-4 bg-siso-bg-alt border-siso-border hover:bg-siso-bg transition-colors cursor-pointer",s.rank<=3&&"ring-2 ring-siso-primary/20"),onClick:()=>a==null?void 0:a(s),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-8 flex justify-center",children:h(s.rank)}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Y,{className:"h-10 w-10",children:[e.jsx(Z,{src:s.avatar,alt:s.name}),e.jsx(_,{className:"bg-siso-primary text-white",children:s.name.split(" ").map(v=>v[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:f("text-xs",g(s.badge)),children:s.badge}),s.achievements&&e.jsxs("span",{className:"text-xs text-gray-400",children:[s.achievements," achievements"]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-white",children:["$",s.spending.toLocaleString()]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Earnings"})]}),s.referrals!==void 0&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-lg font-bold text-white",children:s.referrals}),e.jsx("p",{className:"text-xs text-gray-400",children:"Referrals"})]}),s.conversionRate!==void 0&&e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-white",children:[s.conversionRate.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-gray-400",children:"Conv. Rate"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[x(s.trend),e.jsxs("span",{className:f("text-sm font-medium",s.trend.direction==="up"?"text-green-500":s.trend.direction==="down"?"text-red-500":"text-gray-500"),children:[s.trend.direction!=="same"&&(s.trend.direction==="up"?"+":""),s.trend.value,"%"]})]})]})]})},s.rank))})},ae=({stats:r,period:i})=>{const a=[{title:"Total Partners",value:r.totalPartners.toString(),trend:`${r.activePartners} active`,icon:M,trendUp:!0},{title:"Top Performer",value:`$${r.topPerformerEarnings.toLocaleString()}`,trend:`vs $${r.averageEarnings.toLocaleString()} avg`,icon:S,trendUp:!0},{title:"Total Commissions",value:`$${r.totalCommissionsPaid.toLocaleString()}`,trend:`+${r.monthlyGrowth.toFixed(1)}% growth`,icon:Q,trendUp:r.monthlyGrowth>0},{title:"Program Conv. Rate",value:`${r.conversionRate}%`,trend:`Best: ${r.topReferrer.name}`,icon:P,trendUp:!0}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-white",children:"Partnership Program Overview"}),e.jsxs("span",{className:"text-sm text-gray-400 capitalize",children:["Period: ",i]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:a.map(n=>e.jsx(se,{title:n.title,value:n.value,trend:n.trend,icon:n.icon,trendUp:n.trendUp},n.title))}),e.jsx(m,{className:"p-4 bg-siso-bg-alt border-siso-border",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-siso-primary",children:[(r.activePartners/r.totalPartners*100).toFixed(1),"%"]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Partner Retention Rate"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-siso-primary",children:r.topReferrer.referrals}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Most Referrals by ",r.topReferrer.name]})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-siso-primary",children:["$",(r.totalCommissionsPaid/r.totalPartners).toFixed(0)]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Avg Commission per Partner"})]})]})})]})},te=({onFilterChange:r,onPeriodChange:i,onSearchChange:a})=>{const[n,h]=j.useState({search:"",period:"month",category:"all",tier:"all"}),[x,g]=j.useState([]),s=(t,c)=>{const o=F(T({},n),{[t]:c});h(o),r(o),t==="period"&&i(c),t==="search"&&a&&a(c);const E=Object.entries(o).filter(([N,p])=>p!==""&&p!=="all"&&N!=="search").map(([N,p])=>`${N}:${p}`);g(E)},v=t=>{const[c]=t.split(":");s(c,c==="period"?"month":"all")},u=()=>{const t={search:"",period:"month",category:"all",tier:"all"};h(t),g([]),r(t),i("month"),a&&a("")};return e.jsx(m,{className:"p-4 bg-siso-bg-alt border-siso-border",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 min-w-64",children:[e.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(ee,{placeholder:"Search partners...",value:n.search,onChange:t=>s("search",t.target.value),className:"pl-9 bg-siso-bg border-siso-border text-white"})]}),e.jsxs(w,{value:n.period,onValueChange:t=>s("period",t),children:[e.jsxs(y,{className:"w-40 bg-siso-bg border-siso-border text-white",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),e.jsx(C,{})]}),e.jsxs(R,{children:[e.jsx(l,{value:"week",children:"This Week"}),e.jsx(l,{value:"month",children:"This Month"}),e.jsx(l,{value:"quarter",children:"This Quarter"}),e.jsx(l,{value:"year",children:"This Year"}),e.jsx(l,{value:"all",children:"All Time"})]})]}),e.jsxs(w,{value:n.category,onValueChange:t=>s("category",t),children:[e.jsxs(y,{className:"w-36 bg-siso-bg border-siso-border text-white",children:[e.jsx(W,{className:"h-4 w-4 mr-2"}),e.jsx(C,{placeholder:"Category"})]}),e.jsxs(R,{children:[e.jsx(l,{value:"all",children:"All Categories"}),e.jsx(l,{value:"earnings",children:"Earnings"}),e.jsx(l,{value:"referrals",children:"Referrals"}),e.jsx(l,{value:"conversions",children:"Conversions"})]})]}),e.jsxs(w,{value:n.tier,onValueChange:t=>s("tier",t),children:[e.jsx(y,{className:"w-32 bg-siso-bg border-siso-border text-white",children:e.jsx(C,{placeholder:"Tier"})}),e.jsxs(R,{children:[e.jsx(l,{value:"all",children:"All Tiers"}),e.jsx(l,{value:"bronze",children:"Bronze"}),e.jsx(l,{value:"silver",children:"Silver"}),e.jsx(l,{value:"gold",children:"Gold"}),e.jsx(l,{value:"platinum",children:"Platinum"})]})]}),x.length>0&&e.jsxs(d,{variant:"outline",size:"sm",onClick:u,className:"border-siso-border text-gray-400 hover:text-white",children:[e.jsx(z,{className:"h-4 w-4 mr-1"}),"Clear All"]})]}),x.length>0&&e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Active filters:"}),x.map(t=>{const[c,o]=t.split(":");return e.jsxs(b,{variant:"secondary",className:"bg-siso-primary/20 text-siso-primary border-siso-primary/30",children:[e.jsxs("span",{className:"capitalize",children:[c,": ",o]}),e.jsx("button",{onClick:()=>v(t),className:"ml-1 hover:text-white",children:e.jsx(z,{className:"h-3 w-3"})})]},t)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Quick filters:"}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>s("tier","platinum"),className:"text-purple-400 hover:text-purple-300",children:"Platinum Only"}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>s("category","earnings"),className:"text-green-400 hover:text-green-300",children:"Top Earners"}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>s("period","week"),className:"text-blue-400 hover:text-blue-300",children:"This Week"})]})]})})},ge=()=>{const[r,i]=j.useState("month"),[a,n]=j.useState("all"),[h,x]=j.useState(""),g=[{rank:1,name:"Michael Chen",avatar:"/avatars/1.jpg",spending:12450,transactions:45,trend:{value:15,direction:"up"},badge:"platinum",achievements:12,referrals:28,conversions:18,conversionRate:64.3},{rank:2,name:"Sarah Johnson",avatar:"/avatars/2.jpg",spending:10200,transactions:38,trend:{value:8,direction:"up"},badge:"gold",achievements:9,referrals:22,conversions:14,conversionRate:63.6},{rank:3,name:"Alex Rivera",avatar:"/avatars/3.jpg",spending:8900,transactions:32,trend:{value:12,direction:"up"},badge:"gold",achievements:8,referrals:19,conversions:11,conversionRate:57.9},{rank:4,name:"Emma Davis",avatar:"/avatars/4.jpg",spending:7800,transactions:28,trend:{value:3,direction:"down"},badge:"silver",achievements:6,referrals:15,conversions:8,conversionRate:53.3},{rank:5,name:"James Wilson",avatar:"/avatars/5.jpg",spending:6500,transactions:24,trend:{value:5,direction:"up"},badge:"silver",achievements:5,referrals:12,conversions:6,conversionRate:50},{rank:6,name:"Lisa Anderson",avatar:"/avatars/6.jpg",spending:5200,transactions:20,trend:{value:2,direction:"up"},badge:"bronze",achievements:4,referrals:10,conversions:4,conversionRate:40},{rank:7,name:"Robert Martinez",avatar:"/avatars/7.jpg",spending:4800,transactions:18,trend:{value:7,direction:"down"},badge:"bronze",achievements:3,referrals:8,conversions:3,conversionRate:37.5},{rank:8,name:"Jennifer Lee",avatar:"/avatars/8.jpg",spending:4200,transactions:16,trend:{value:0,direction:"same"},badge:"bronze",achievements:3,referrals:7,conversions:2,conversionRate:28.6}],s={totalPartners:156,activePartners:134,topPerformerEarnings:12450,averageEarnings:3875,totalCommissionsPaid:125320,monthlyGrowth:15.3,conversionRate:32,topReferrer:{name:"Michael Chen",referrals:28}},v=g.filter(o=>o.name.toLowerCase().includes(h.toLowerCase())),u=o=>{n(o.category||"all")},t=o=>{i(o)},c=o=>{console.log("View partner:",o)};return e.jsx(K,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(X,{title:"Partnership Leaderboard",description:"Track and reward your top-performing partners"}),e.jsx(ae,{stats:s,period:r}),e.jsx(te,{onFilterChange:u,onPeriodChange:t,onSearchChange:x}),e.jsxs(m,{className:"p-6 bg-siso-bg-alt border-siso-border",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recent Achievements"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-siso-bg border border-siso-border",children:[e.jsx($,{className:"h-8 w-8 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:"Monthly Champion"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Michael Chen"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-siso-bg border border-siso-border",children:[e.jsx(L,{className:"h-8 w-8 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:"Rising Star"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Alex Rivera"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-siso-bg border border-siso-border",children:[e.jsx(S,{className:"h-8 w-8 text-orange-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:"Most Referrals"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Michael Chen (28)"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-siso-bg border border-siso-border",children:[e.jsx(q,{className:"h-8 w-8 text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:"Best Conversion"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Michael Chen (64.3%)"})]})]})]})]}),e.jsx(m,{className:"bg-siso-bg-alt border-siso-border",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Partner Rankings"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(b,{variant:"outline",className:"text-xs",children:[e.jsx(M,{className:"h-3 w-3 mr-1"}),v.length," Partners"]}),e.jsxs(b,{variant:"outline",className:"text-xs",children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),r]})]})]}),e.jsx(re,{rankings:v,currentUser:null,onPartnerClick:c,showAdminControls:!0})]})}),e.jsxs(m,{className:"p-6 bg-siso-bg-alt border-siso-border",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Hall of Fame"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 rounded-lg bg-siso-bg border border-siso-border",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"All-Time Earnings Leader"}),e.jsx("p",{className:"text-xl font-bold text-siso-primary",children:"Michael Chen"}),e.jsx("p",{className:"text-sm text-gray-400",children:"$78,450 total"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-siso-bg border border-siso-border",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Most Referrals (All-Time)"}),e.jsx("p",{className:"text-xl font-bold text-siso-primary",children:"Sarah Johnson"}),e.jsx("p",{className:"text-sm text-gray-400",children:"142 referrals"})]}),e.jsxs("div",{className:"text-center p-4 rounded-lg bg-siso-bg border border-siso-border",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Highest Conversion Rate"}),e.jsx("p",{className:"text-xl font-bold text-siso-primary",children:"Alex Rivera"}),e.jsx("p",{className:"text-sm text-gray-400",children:"71.2% conversion"})]})]})]}),e.jsxs(m,{className:"p-6 bg-siso-bg-alt border-siso-border",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Leaderboard Management"}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(d,{variant:"outline",size:"sm",children:"Export Rankings"}),e.jsx(d,{variant:"outline",size:"sm",children:"Send Recognition Emails"}),e.jsx(d,{variant:"outline",size:"sm",children:"Schedule Awards Ceremony"}),e.jsx(d,{variant:"outline",size:"sm",children:"Generate Performance Reports"})]})]})]})})};export{ge as default};
