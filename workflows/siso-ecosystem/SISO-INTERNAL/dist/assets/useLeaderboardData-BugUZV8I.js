var E=(u,c,a)=>new Promise((m,p)=>{var d=e=>{try{i(a.next(e))}catch(r){p(r)}},g=e=>{try{i(a.throw(e))}catch(r){p(r)}},i=e=>e.done?m(e.value):Promise.resolve(e.value).then(d,g);i((a=a.apply(u,c)).next())});import{r as n}from"./vendor-C50ijZWh.js";import{u as b}from"./index-Blbobipf.js";const S=()=>{const[u,c]=n.useState(!0),[a,m]=n.useState([]),[p,d]=n.useState({totalParticipants:0,avgPoints:0,topScore:0}),[g,i]=n.useState({trend:"stable",percentage:0,points:0,users:0,tokens:0}),[e,r]=n.useState({timeframe:"week"}),{toast:v}=b(),h=n.useCallback(()=>E(void 0,null,function*(){try{c(!0);const o=[{name:"Optimal Construction",url:"https://optimal-building-maintenance.vercel.app/",points:1500,spending:15e3,sisoTokens:3e3,milestones:"4/8",clientEngagement:60,communityImpact:5,lastActive:"2025-03-01",status:"Waiting on client"},{name:"UbahCryp",url:"https://ubahcrypcom.vercel.app/",points:500,spending:5e3,sisoTokens:1e3,milestones:"8/8",clientEngagement:90,communityImpact:10,lastActive:"2025-03-20",status:"Feedback from app"},{name:"Gritness",url:"https://gritnessgym.vercel.app/",points:25,spending:249,sisoTokens:50,milestones:"6/8",clientEngagement:40,communityImpact:3,lastActive:"2025-05-09",status:"Not contacted"},{name:"Trojan MMA",url:"https://trojan-mma.vercel.app/",points:25,spending:249,sisoTokens:50,milestones:"6/8",clientEngagement:35,communityImpact:2,lastActive:"2025-03-27",status:"Not contacted"},{name:"Lets Go",url:"https://lets-go-u7hh.vercel.app/",points:25,spending:249,sisoTokens:50,milestones:"7/8",clientEngagement:80,communityImpact:4,lastActive:"2025-03-26",status:"Feedback from app"},{name:"NM Construction",url:"https://nm-construction.vercel.app/",points:0,spending:0,sisoTokens:0,milestones:"4/8",clientEngagement:50,communityImpact:1,lastActive:"2025-03-01",status:"Contacted"},{name:"Elementree",url:"https://elementree.vercel.app/",points:0,spending:0,sisoTokens:0,milestones:"5/8",clientEngagement:30,communityImpact:1,lastActive:"2025-05-09",status:"Not contacted"},{name:"Mu Shin",url:"https://siso-mu-shin.vercel.app/",points:0,spending:0,sisoTokens:0,milestones:"8/8",clientEngagement:20,communityImpact:0,lastActive:"2025-03-20",status:"Declined"},{name:"5 Star Hire",url:"https://5-star-hire.vercel.app/",points:0,spending:0,sisoTokens:0,milestones:"3/8",clientEngagement:25,communityImpact:0,lastActive:"2025-05-09",status:"Not contacted"},{name:"Keegan Saas",url:"",points:0,spending:0,sisoTokens:0,milestones:"0/8",clientEngagement:15,communityImpact:0,lastActive:"2025-05-09",status:"Waiting on client"}].map((t,s)=>{let l="Novice";return t.points>=1e3?l="Master":t.points>=500?l="Expert":t.points>=100?l="Advanced":t.points>=25&&(l="Intermediate"),{id:`project-${s+1}`,user_id:`project-${s+1}`,points:t.points,level:Math.floor(t.points/100)+1,streak_days:Math.floor(Math.random()*30),rank:l,siso_tokens:t.sisoTokens,updated_at:t.lastActive,contribution_count:t.communityImpact,referral_count:Math.floor(t.clientEngagement/10),achievements:[{name:t.status,icon:"🏆"}],profile:{full_name:t.name,email:`info@${t.name.toLowerCase().replace(/\s+/g,"-")}.com`,bio:`${t.milestones} milestones completed`,avatar_url:"",professional_role:t.status,business_name:t.name,industry:"Construction & Development",website_url:t.url}}}).sort((t,s)=>s.points-t.points);m(o);const k=o.reduce((t,s)=>t+s.points,0),y=o.reduce((t,s)=>t+s.siso_tokens,0);d({totalParticipants:o.length,avgPoints:Math.floor(k/o.length),topScore:Math.max(...o.map(t=>t.points))}),i({trend:"up",percentage:15,points:Math.floor(k*.15),users:2,tokens:Math.floor(y*.1)})}catch(f){console.error("Error setting up leaderboard data:",f),v({variant:"destructive",title:"Failed to load leaderboard",description:"There was an error loading the leaderboard data."}),m([])}finally{c(!1)}}),[e,v]);return n.useEffect(()=>{h()},[h,e]),{entries:a,stats:p,trends:g,loading:u,filter:e,setFilter:r,refreshLeaderboard:()=>{h()}}};export{S as u};
