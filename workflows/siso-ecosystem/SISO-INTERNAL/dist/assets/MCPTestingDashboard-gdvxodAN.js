var X=Object.defineProperty,Y=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var E=(n,a,t)=>a in n?X(n,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[a]=t,f=(n,a)=>{for(var t in a||(a={}))K.call(a,t)&&E(n,t,a[t]);if(A)for(var t of A(a))Q.call(a,t)&&E(n,t,a[t]);return n},g=(n,a)=>Y(n,Z(a));var m=(n,a,t)=>new Promise((S,u)=>{var b=c=>{try{j(t.next(c))}catch(p){u(p)}},l=c=>{try{j(t.throw(c))}catch(p){u(p)}},j=c=>c.done?S(c.value):Promise.resolve(c.value).then(b,l);j((t=t.apply(n,a)).next())});import{r as x,j as s,b5 as H,bm as B,bn as _,bo as I,ah as z,bp as M,aa as ss,aY as es,b0 as as,aX as ts}from"./vendor-C50ijZWh.js";import{d as h,C as N,a as w,b as v,B as L,g as $,c as y,P as rs}from"./index-Blbobipf.js";import{A as ns,a as cs}from"./alert-y6vZCamD.js";import{T as is,a as ls,b as C,c as T}from"./tabs-CsM4ZGNr.js";import"./libs-B3eAAgHd.js";import"./supabase-D8k0GRjn.js";const ps=()=>{const[n,a]=x.useState([]),[t,S]=x.useState([]),[u,b]=x.useState(!1),[l,j]=x.useState(null),[c,p]=x.useState(null),R=[{name:"Supabase Read Test",mcp:"supabase",description:"Test read-only database query",status:"pending"},{name:"Context7 Documentation",mcp:"context7",description:"Fetch React documentation",status:"pending"},{name:"Notion Search",mcp:"notion",description:"Search for test pages",status:"pending"},{name:"GitHub Repository Check",mcp:"github",description:"List repositories",status:"pending"},{name:"Exa Web Search",mcp:"exa",description:"Search for TypeScript tutorials",status:"pending"}],D={supabase:s.jsx(I,{className:"w-4 h-4"}),context7:s.jsx(z,{className:"w-4 h-4"}),notion:s.jsx(ss,{className:"w-4 h-4"}),github:s.jsx(M,{className:"w-4 h-4"}),exa:s.jsx(M,{className:"w-4 h-4"})},q=()=>m(void 0,null,function*(){b(!0),a(R.map(e=>g(f({},e),{status:"pending"})));for(let e=0;e<R.length;e++){const i=R[e];a(r=>r.map((d,o)=>o===e?g(f({},d),{status:"running"}):d));try{const r=Date.now(),d=yield G(i.mcp,i.name),o=Date.now()-r;a(k=>k.map((W,U)=>U===e?g(f({},W),{status:"success",result:d,duration:o}):W))}catch(r){a(d=>d.map((o,k)=>k===e?g(f({},o),{status:"error",error:r.message}):o))}yield new Promise(r=>setTimeout(r,500))}b(!1),yield F()}),G=(e,i)=>m(void 0,null,function*(){if(yield new Promise(r=>setTimeout(r,Math.random()*2e3)),Math.random()>.9)throw new Error(`Simulated error for ${e}`);return{success:!0,data:`Test data from ${e}`,timestamp:new Date().toISOString()}}),F=()=>m(void 0,null,function*(){const i=["supabase","context7","notion","github","exa"].map(r=>({mcp:r,status:Math.random()>.8?"degraded":"healthy",lastCheck:new Date,responseTime:Math.random()*1e3,errorRate:Math.random()*10}));S(i)}),O=()=>m(void 0,null,function*(){j({hits:245,misses:56,hitRate:.814,size:45678912,entryCount:123})}),V=()=>m(void 0,null,function*(){p({totalCalls:1234,avgResponseTime:234,errorRate:2.5,activeWorkflows:3})});x.useEffect(()=>{F()},[]);const P=e=>{switch(e){case"success":case"healthy":return"text-green-500";case"error":case"unhealthy":return"text-red-500";case"running":case"degraded":return"text-yellow-500";default:return"text-gray-500"}},J=e=>{switch(e){case"success":case"healthy":return s.jsx(ts,{className:"w-4 h-4"});case"error":case"unhealthy":return s.jsx(as,{className:"w-4 h-4"});case"running":return s.jsx(H,{className:"w-4 h-4 animate-spin"});default:return s.jsx(es,{className:"w-4 h-4"})}};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"MCP Testing Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Verify MCP enhancements without breaking existing functionality"})]}),s.jsx("div",{className:"space-x-2",children:s.jsx(h,{onClick:q,disabled:u,children:u?s.jsxs(s.Fragment,{children:[s.jsx(H,{className:"mr-2 h-4 w-4 animate-spin"}),"Running Tests..."]}):s.jsxs(s.Fragment,{children:[s.jsx(B,{className:"mr-2 h-4 w-4"}),"Run All Tests"]})})})]}),s.jsxs(is,{defaultValue:"tests",className:"space-y-4",children:[s.jsxs(ls,{children:[s.jsx(C,{value:"tests",children:"Integration Tests"}),s.jsx(C,{value:"health",children:"Health Status"}),s.jsx(C,{value:"performance",children:"Performance"}),s.jsx(C,{value:"workflows",children:"Workflows"})]}),s.jsx(T,{value:"tests",className:"space-y-4",children:s.jsx("div",{className:"grid gap-4",children:n.map((e,i)=>s.jsxs(N,{children:[s.jsxs(w,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[D[e.mcp],s.jsx(v,{className:"text-lg",children:e.name}),s.jsx(L,{variant:"outline",children:e.mcp})]}),s.jsxs("div",{className:`flex items-center space-x-2 ${P(e.status)}`,children:[J(e.status),s.jsx("span",{className:"text-sm font-medium capitalize",children:e.status}),e.duration&&s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",e.duration,"ms)"]})]})]}),s.jsx($,{children:e.description})]}),(e.result||e.error)&&s.jsx(y,{children:e.error?s.jsx(ns,{variant:"destructive",children:s.jsx(cs,{children:e.error})}):s.jsx("pre",{className:"text-xs bg-muted p-2 rounded overflow-x-auto",children:JSON.stringify(e.result,null,2)})})]},i))})}),s.jsx(T,{value:"health",className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(e=>{var i,r,d;return s.jsxs(N,{children:[s.jsx(w,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[D[e.mcp],s.jsx(v,{className:"text-lg",children:e.mcp.toUpperCase()})]}),s.jsx(L,{className:P(e.status),children:e.status})]})}),s.jsxs(y,{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Response Time"}),s.jsxs("span",{children:[(i=e.responseTime)==null?void 0:i.toFixed(0),"ms"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Error Rate"}),s.jsxs("span",{children:[(r=e.errorRate)==null?void 0:r.toFixed(1),"%"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Last Check"}),s.jsx("span",{children:(d=e.lastCheck)==null?void 0:d.toLocaleTimeString()})]})]})]},e.mcp)})})}),s.jsx(T,{value:"performance",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(N,{children:[s.jsx(w,{children:s.jsxs(v,{className:"flex items-center space-x-2",children:[s.jsx(_,{className:"w-5 h-5"}),s.jsx("span",{children:"Cache Performance"})]})}),s.jsxs(y,{className:"space-y-4",children:[s.jsx(h,{onClick:O,variant:"outline",className:"w-full",children:"Test Cache"}),l&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Hit Rate"}),s.jsxs("span",{className:"font-medium",children:[(l.hitRate*100).toFixed(1),"%"]})]}),s.jsx(rs,{value:l.hitRate*100})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Hits"}),s.jsx("p",{className:"font-medium",children:l.hits})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Misses"}),s.jsx("p",{className:"font-medium",children:l.misses})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Size"}),s.jsxs("p",{className:"font-medium",children:[(l.size/1024/1024).toFixed(1)," MB"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Entries"}),s.jsx("p",{className:"font-medium",children:l.entryCount})]})]})]})]})]}),s.jsxs(N,{children:[s.jsx(w,{children:s.jsxs(v,{className:"flex items-center space-x-2",children:[s.jsx(B,{className:"w-5 h-5"}),s.jsx("span",{children:"Monitoring Stats"})]})}),s.jsxs(y,{className:"space-y-4",children:[s.jsx(h,{onClick:V,variant:"outline",className:"w-full",children:"Test Monitoring"}),c&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Total Calls"}),s.jsx("p",{className:"font-medium",children:c.totalCalls})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Avg Response"}),s.jsxs("p",{className:"font-medium",children:[c.avgResponseTime,"ms"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Error Rate"}),s.jsxs("p",{className:"font-medium",children:[c.errorRate,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Active Workflows"}),s.jsx("p",{className:"font-medium",children:c.activeWorkflows})]})]})]})]})]})}),s.jsx(T,{value:"workflows",className:"space-y-4",children:s.jsxs(N,{children:[s.jsxs(w,{children:[s.jsx(v,{children:"Test Workflows"}),s.jsx($,{children:"Run pre-built workflows to test orchestration"})]}),s.jsxs(y,{className:"space-y-2",children:[s.jsxs(h,{variant:"outline",className:"w-full justify-start",children:[s.jsx(I,{className:"mr-2 h-4 w-4"}),"Deploy Feature Workflow"]}),s.jsxs(h,{variant:"outline",className:"w-full justify-start",children:[s.jsx(z,{className:"mr-2 h-4 w-4"}),"Code Review Workflow"]}),s.jsxs(h,{variant:"outline",className:"w-full justify-start",children:[s.jsx(M,{className:"mr-2 h-4 w-4"}),"Technology Research Workflow"]})]})]})})]})]})};export{ps as default};
