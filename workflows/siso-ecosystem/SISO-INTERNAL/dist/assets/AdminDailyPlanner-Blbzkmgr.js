var Ne=Object.defineProperty,be=Object.defineProperties;var ye=Object.getOwnPropertyDescriptors;var I=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var J=(s,a,t)=>a in s?Ne(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,F=(s,a)=>{for(var t in a||(a={}))ee.call(a,t)&&J(s,t,a[t]);if(I)for(var t of I(a))se.call(a,t)&&J(s,t,a[t]);return s},te=(s,a)=>be(s,ye(a));var K=(s,a)=>{var t={};for(var r in s)ee.call(s,r)&&a.indexOf(r)<0&&(t[r]=s[r]);if(s!=null&&I)for(var r of I(s))a.indexOf(r)<0&&se.call(s,r)&&(t[r]=s[r]);return t};var H=(s,a,t)=>new Promise((r,i)=>{var d=c=>{try{l(t.next(c))}catch(h){i(h)}},n=c=>{try{l(t.throw(c))}catch(h){i(h)}},l=c=>c.done?r(c.value):Promise.resolve(c.value).then(d,n);l((t=t.apply(s,a)).next())});import{j as e,ab as xe,a9 as ke,r as f,dW as we,a$ as Ce,aD as Te,aW as De,b0 as Se,aY as Pe,av as Ae,R as he,e0 as _e,m as Ie,y as Le,z as Me,aX as Ee,aQ as $e,aa as ue,O as ae,bw as Ve,b5 as We,c3 as Re,e1 as Be,aM as Oe,bK as Fe}from"./vendor-C50ijZWh.js";import{A as Ke}from"./AdminLayout-BZL16QJ9.js";import{T as W,a as R,b as g,c as v}from"./tabs-CsM4ZGNr.js";import{C as He}from"./calendar-CM33CvjS.js";import{u as X,C as m,a as u,b as j,d as w,I as V,c as p,s as U,K as Ue,f as z,h as y,A as re,q as ne,p as ze,g as C,N as _,l as qe}from"./index-Blbobipf.js";import{u as G}from"./useTasks-mVqPh9Ik.js";import{D as Qe,f as Ye,a as Ze,b as Xe,c as Ge}from"./dialog-CB9qAGL5.js";import{S as Je,a as es,b as ss,c as ts,d as as}from"./select-Ba1tjTaP.js";import{a$ as rs,bF as ns,bQ as L,ca as je,cb as ls,c6 as le,bS as M,cc as q,bR as pe,c8 as ie,bV as ce,c5 as de,bT as oe,bU as ge,bW as is}from"./libs-B3eAAgHd.js";import{T as Q}from"./textarea-B56zo4Tx.js";import{A as cs}from"./AdminPageTitle-BgXCcQq-.js";import"./supabase-D8k0GRjn.js";function ds(){return e.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-purple-100 dark:bg-purple-900",children:e.jsx(xe,{className:"h-6 w-6 text-purple-700 dark:text-purple-300"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Daily Planner & Life Banking"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your tasks, reflect on performance, and plan your day"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-1 rounded-lg bg-green-100 px-2 py-1 text-xs font-medium text-green-700 dark:bg-green-900 dark:text-green-300",children:[e.jsx(ke,{className:"h-3 w-3"}),e.jsx("span",{children:"Today's Tasks: 0"})]})})]})}function os(){const[s,a]=f.useState(new Date),[t,r]=f.useState([]),[i,d]=f.useState([]),{useTaskQuery:n}=G(),{data:l=[]}=n(),{toast:c}=X();f.useEffect(()=>{H(this,null,function*(){if(!s)return;const{data:N,error:k}=yield U.from("calendar_events").select("*").gte("start_time",s.toISOString()).lt("start_time",new Date(s.getTime()+24*60*60*1e3).toISOString());if(k){console.error("Error fetching events:",k);return}r(N||[])})},[s]),f.useEffect(()=>{if(!s)return;const x=l.filter(N=>N.due_date&&new Date(N.due_date).toDateString()===s.toDateString());d(x)},[s,l]);const h=x=>H(this,null,function*(){var S;x.preventDefault();const N=x.target,k=N.elements.namedItem("title"),B=N.elements.namedItem("description"),T=N.elements.namedItem("task");try{const{data:D,error:o}=yield U.from("calendar_events").insert({title:k.value,description:B.value,start_time:s==null?void 0:s.toISOString(),end_time:s==null?void 0:s.toISOString(),task_id:T.value||null,user_id:(S=(yield U.auth.getUser()).data.user)==null?void 0:S.id});if(o)throw o;c({title:"Event Created",description:"Your event has been added successfully"}),N.reset()}catch(D){c({title:"Error",description:"Failed to create event",variant:"destructive"})}});return e.jsxs(m,{className:"bg-soft-purple border-soft-purple/30",children:[e.jsxs(u,{className:"flex flex-row items-center justify-between",children:[e.jsx(j,{className:"text-dark-purple",children:"Calendar View"}),e.jsxs(Qe,{children:[e.jsx(Ye,{asChild:!0,children:e.jsxs(w,{size:"sm",className:"gap-1 bg-vivid-purple hover:bg-vivid-purple/80",children:[e.jsx(we,{className:"h-4 w-4"}),"Add Event"]})}),e.jsxs(Ze,{children:[e.jsx(Xe,{children:e.jsx(Ge,{children:"Create New Event"})}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsx(V,{name:"title",placeholder:"Event Title",required:!0}),e.jsx(V,{name:"description",placeholder:"Description (optional)"}),e.jsxs(Je,{name:"task",children:[e.jsx(es,{children:e.jsx(ss,{placeholder:"Link to Task (optional)"})}),e.jsx(ts,{children:i.map(x=>e.jsx(as,{value:x.id,children:x.title},x.id))})]}),e.jsx(w,{type:"submit",className:"bg-vivid-purple hover:bg-vivid-purple/80",children:"Create Event"})]})]})]})]}),e.jsxs(p,{children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx(He,{mode:"single",selected:s,onSelect:a,className:"rounded-md border w-full max-w-md pointer-events-auto"})}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("h3",{className:"text-md font-medium mb-2 text-dark-purple",children:["Events and Tasks for ",s==null?void 0:s.toLocaleDateString()]}),t.length===0&&i.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"No events or tasks scheduled for this date."}):e.jsxs("div",{className:"space-y-2",children:[t.map(x=>e.jsxs("div",{className:"bg-soft-purple/20 border border-soft-purple/30 rounded-md p-3",children:[e.jsx("div",{className:"font-semibold text-dark-purple",children:x.title}),x.description&&e.jsx("p",{className:"text-sm text-muted-foreground",children:x.description})]},x.id)),i.map(x=>e.jsxs("div",{className:"bg-soft-purple/20 border border-soft-purple/30 rounded-md p-3",children:[e.jsx("div",{className:"font-semibold text-dark-purple",children:x.title}),e.jsx("p",{className:"text-sm text-muted-foreground",children:x.description||"No description"})]},x.id))]})]})]})]})}const me={low:{color:"text-blue-500",icon:e.jsx(Ae,{className:"h-3 w-3"})},medium:{color:"text-yellow-500",icon:e.jsx(Pe,{className:"h-3 w-3"})},high:{color:"text-orange-500",icon:e.jsx(Se,{className:"h-3 w-3"})},urgent:{color:"text-red-500",icon:e.jsx(De,{className:"h-3 w-3"})}};function ms({task:s}){return e.jsx(m,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Ue,{checked:s.status==="completed"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold",children:s.title}),e.jsx("div",{className:`flex items-center ${me[s.priority].color}`,children:me[s.priority].icon})]}),s.description&&e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-muted-foreground",children:[s.due_date&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:rs(new Date(s.due_date),"MMM d, yyyy")})]}),s.assigned_to&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsxs("span",{children:["Assigned to ",s.assigned_to]})]})]})]}),e.jsx(w,{variant:"ghost",size:"sm",children:"Edit"})]})})}function xs({category:s,userId:a}){const{useTaskQuery:t}=G(),{toast:r}=X(),{data:i,isLoading:d,error:n}=t(s,a);return he.useEffect(()=>{n&&(console.error("Task fetching error:",n),r({variant:"destructive",title:"Error loading tasks",description:n instanceof Error?n.message:"Failed to load tasks"}))},[n,r]),d?e.jsxs("div",{className:"space-y-4",children:[e.jsx(z,{className:"h-16 w-full"}),e.jsx(z,{className:"h-16 w-full"}),e.jsx(z,{className:"h-16 w-full"})]}):i!=null&&i.length?e.jsx("div",{className:"space-y-4",children:i.map(l=>e.jsx(ms,{task:l},l.id))}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a?`No ${s} tasks assigned to this user`:`No ${s} tasks found`})}const hs=ns("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",subtle:"border-transparent bg-muted/30 text-muted-foreground hover:bg-muted/50"},size:{default:"px-2.5 py-0.5 text-xs",sm:"px-2 py-0 text-xs",lg:"px-3 py-1 text-sm"}},defaultVariants:{variant:"default",size:"default"}});function us(i){var d=i,{className:s,variant:a,size:t}=d,r=K(d,["className","variant","size"]);return e.jsx("div",F({className:y(hs({variant:a,size:t}),s)},r))}function js({teamMember:s}){const{useTaskStatsQuery:a}=G(),{data:t,isLoading:r}=a(s||void 0);if(r)return e.jsx("div",{className:"space-y-4",children:e.jsx(m,{className:"p-4",children:e.jsx("div",{className:"h-[350px] bg-muted/20 animate-pulse rounded-md"})})});const i=[{name:"Completed",value:(t==null?void 0:t.byStatus.completed)||0,color:"#10b981"},{name:"In Progress",value:(t==null?void 0:t.byStatus.in_progress)||0,color:"#3b82f6"},{name:"Pending",value:(t==null?void 0:t.byStatus.pending)||0,color:"#9ca3af"}],d=(t==null?void 0:t.byDay)||[],n=[{name:"Low",value:(t==null?void 0:t.byPriority.low)||0,color:"#60a5fa"},{name:"Medium",value:(t==null?void 0:t.byPriority.medium)||0,color:"#f59e0b"},{name:"High",value:(t==null?void 0:t.byPriority.high)||0,color:"#ef4444"},{name:"Urgent",value:(t==null?void 0:t.byPriority.urgent)||0,color:"#dc2626"}];return t?e.jsxs("div",{className:"space-y-8",children:[e.jsxs(W,{defaultValue:"taskStatus",children:[e.jsxs(R,{children:[e.jsx(g,{value:"taskStatus",children:"Status Distribution"}),e.jsx(g,{value:"taskTrend",children:"Completion Trend"}),e.jsx(g,{value:"taskPriority",children:"Priority Distribution"})]}),e.jsx(v,{value:"taskStatus",className:"mt-6",children:e.jsxs(m,{children:[e.jsx(u,{children:e.jsx(j,{children:"Task Status Distribution"})}),e.jsx(p,{className:"h-[400px]",children:e.jsx(L,{width:"100%",height:"100%",children:e.jsxs(je,{children:[e.jsx(ls,{data:i,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:150,fill:"#8884d8",label:({name:l,percent:c})=>`${l}: ${(c*100).toFixed(0)}%`,children:i.map((l,c)=>e.jsx(le,{fill:l.color},`cell-${c}`))}),e.jsx(M,{}),e.jsx(q,{})]})})})]})}),e.jsx(v,{value:"taskTrend",className:"mt-6",children:e.jsxs(m,{children:[e.jsx(u,{children:e.jsx(j,{children:"Weekly Task Completion Trend"})}),e.jsx(p,{className:"h-[400px]",children:e.jsx(L,{width:"100%",height:"100%",children:e.jsxs(pe,{data:d,margin:{top:20,right:30,left:20,bottom:20},children:[e.jsx(ie,{strokeDasharray:"3 3"}),e.jsx(ce,{dataKey:"day"}),e.jsx(de,{}),e.jsx(M,{}),e.jsx(q,{}),e.jsx(oe,{type:"monotone",dataKey:"completed",stroke:"#10b981",name:"Completed",activeDot:{r:8}}),e.jsx(oe,{type:"monotone",dataKey:"created",stroke:"#3b82f6",name:"Created"})]})})})]})}),e.jsx(v,{value:"taskPriority",className:"mt-6",children:e.jsxs(m,{children:[e.jsx(u,{children:e.jsx(j,{children:"Task Priority Distribution"})}),e.jsx(p,{className:"h-[400px]",children:e.jsx(L,{width:"100%",height:"100%",children:e.jsxs(ge,{data:n,margin:{top:20,right:30,left:20,bottom:20},children:[e.jsx(ie,{strokeDasharray:"3 3"}),e.jsx(ce,{dataKey:"name"}),e.jsx(de,{}),e.jsx(M,{}),e.jsx(q,{}),e.jsx(is,{dataKey:"value",name:"Tasks",radius:[4,4,0,0],children:n.map((l,c)=>e.jsx(le,{fill:l.color},`cell-${c}`))})]})})})]})})]}),e.jsxs(m,{children:[e.jsx(u,{children:e.jsx(j,{children:"Task Overview"})}),e.jsx(p,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-md border border-green-100",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Completed Tasks"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.totals.completed})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-md border border-blue-100",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"In Progress"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.totals.in_progress})]}),e.jsxs("div",{className:"bg-amber-50 p-4 rounded-md border border-amber-100",children:[e.jsx("h3",{className:"text-sm font-medium text-amber-800",children:"Pending Tasks"}),e.jsx("p",{className:"text-2xl font-bold text-amber-600",children:t.totals.pending})]})]})})]})]}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-muted-foreground",children:"No task data available"})})}const ps=["siso_app_dev","onboarding_app","instagram","main","weekly","daily"],gs=s=>s.split("_").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ");function fs({userId:s,showAllTasks:a=!0}){const[t,r]=f.useState("byCategory"),[i]=_e(),d=i.get("member"),n=d==="siso"?"SISO":d==="sam"?"Sam":null;return e.jsxs("div",{className:"space-y-6",children:[n&&e.jsxs(Ie.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-gradient-to-r from-purple-900/40 via-purple-800/30 to-indigo-900/40 p-6 rounded-lg border border-purple-500/20",children:[e.jsxs("h1",{className:"text-2xl font-bold text-white mb-2",children:[n,"'s Task Dashboard"]}),e.jsxs("p",{className:"text-purple-200/80",children:["Manage and track tasks assigned to ",n]})]}),e.jsx(W,{value:t,onValueChange:l=>r(l),children:e.jsxs(R,{children:[e.jsx(g,{value:"byCategory",children:"By Category"}),e.jsx(g,{value:"analytics",children:"Analytics"})]})}),t==="byCategory"?e.jsx("div",{className:"space-y-8",children:ps.map(l=>e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-xl font-semibold",children:gs(l)}),e.jsx(us,{variant:"outline",size:"sm",className:"bg-purple-100 text-purple-800 border-purple-200",children:l})]}),e.jsx(m,{className:"p-4",children:e.jsx(xs,{category:l,userId:s||d||void 0})})]},l))}):e.jsx(js,{teamMember:d})]})}function vs(){const s=Le(),a=Me(),t=[{id:"siso",name:"SISO",tasksCount:{total:32,completed:24}},{id:"sam",name:"Sam",tasksCount:{total:28,completed:21}}],r=n=>{s(`/admin/tasks/${n.id}`)},d=new URLSearchParams(a.search).get("member");return e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-medium mb-4",children:"Team Members"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[t.map(n=>e.jsx(m,{className:`p-4 cursor-pointer transition-all hover:shadow-md ${d===n.id?"bg-purple-50 border-purple-200 ring-2 ring-purple-200":""}`,onClick:()=>r(n),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(re,{children:[e.jsx(ne,{className:"bg-purple-200 text-purple-800",children:n.name.charAt(0)}),n.avatar&&e.jsx(ze,{src:n.avatar})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:n.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.tasksCount.completed,"/",n.tasksCount.total," Tasks",e.jsx("div",{className:"w-24 h-1.5 bg-gray-200 rounded-full mt-1",children:e.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:`${n.tasksCount.completed/n.tasksCount.total*100}%`}})})]})]})]})},n.id)),e.jsx(m,{className:`p-4 cursor-pointer transition-all hover:shadow-md ${d?"":"bg-purple-50 border-purple-200"}`,onClick:()=>s("."),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(re,{children:e.jsx(ne,{className:"bg-gray-200 text-gray-700",children:"All"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"All Tasks"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View all team tasks"})]})]})})]})]})}function Ns(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"Team Member Tasks"}),e.jsx(C,{children:"View and manage tasks for specific team members"})]}),e.jsx(p,{children:e.jsx(vs,{})})]}),e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"Task Overview"}),e.jsx(C,{children:"View and manage all tasks across different categories"})]}),e.jsx(p,{children:e.jsx(fs,{})})]})]})}function bs(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-5 w-5 text-purple-500"}),"Daily Business Check-In"]}),e.jsx(C,{children:"Reflect on your day, note achievements, and plan improvements"})]}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(_,{htmlFor:"check-in-date",children:"Date"}),e.jsx(V,{type:"date",id:"check-in-date",defaultValue:new Date().toISOString().split("T")[0]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"key-metrics",children:"Key Metrics"}),e.jsx(V,{type:"text",id:"key-metrics",placeholder:"e.g., Revenue: $1500, New Leads: 3"})]})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"went-well",children:"What went well today?"}),e.jsx(Q,{id:"went-well",placeholder:"List your achievements and successes...",className:"min-h-[100px]"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"improve",children:"What could be improved?"}),e.jsx(Q,{id:"improve",placeholder:"Note areas that need attention or improvement...",className:"min-h-[100px]"})]}),e.jsxs("div",{children:[e.jsx(_,{htmlFor:"action-items",children:"Action items for tomorrow"}),e.jsx(Q,{id:"action-items",placeholder:"List concrete actions to take...",className:"min-h-[100px]"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(w,{className:"gap-2",children:[e.jsx($e,{className:"h-4 w-4"}),"Save Check-In"]})})]})]}),e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"Previous Check-Ins"}),e.jsx(C,{children:"View your past business reflections and insights"})]}),e.jsx(p,{children:e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{children:"No previous check-ins found"}),e.jsx("p",{className:"text-sm mt-2",children:"Complete your first check-in to start tracking your business reflections"})]})})]})]})}const ys={light:"",dark:".dark"},fe=f.createContext(null);function ve(){const s=f.useContext(fe);if(!s)throw new Error("useChart must be used within a <ChartContainer />");return s}const E=f.forwardRef((n,d)=>{var l=n,{id:s,className:a,children:t,config:r}=l,i=K(l,["id","className","children","config"]);const c=f.useId(),h=`chart-${s||c.replace(/:/g,"")}`;return e.jsx(fe.Provider,{value:{config:r},children:e.jsxs("div",te(F({"data-chart":h,ref:d,className:y("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",a)},i),{children:[e.jsx(ks,{id:h,config:r}),e.jsx(L,{children:t})]}))})});E.displayName="Chart";const ks=({id:s,config:a})=>{const t=Object.entries(a).filter(([r,i])=>i.theme||i.color);return t.length?e.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(ys).map(([r,i])=>`
${i} [data-chart=${s}] {
${t.map(([d,n])=>{var c;const l=((c=n.theme)==null?void 0:c[r])||n.color;return l?`  --color-${d}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},Y=M,$=f.forwardRef(({active:s,payload:a,className:t,indicator:r="dot",hideLabel:i=!1,hideIndicator:d=!1,label:n,labelFormatter:l,labelClassName:c,formatter:h,color:x,nameKey:N,labelKey:k},B)=>{const{config:T}=ve(),S=f.useMemo(()=>{var A;if(i||!(a!=null&&a.length))return null;const[o]=a,O=`${k||o.dataKey||o.name||"value"}`,P=Z(T,o,O),b=!k&&typeof n=="string"?((A=T[n])==null?void 0:A.label)||n:P==null?void 0:P.label;return l?e.jsx("div",{className:y("font-medium",c),children:l(b,a)}):b?e.jsx("div",{className:y("font-medium",c),children:b}):null},[n,l,a,i,c,T,k]);if(!s||!(a!=null&&a.length))return null;const D=a.length===1&&r!=="dot";return e.jsxs("div",{ref:B,className:y("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",t),children:[D?null:S,e.jsx("div",{className:"grid gap-1.5",children:a.map((o,O)=>{const P=`${N||o.name||o.dataKey||"value"}`,b=Z(T,o,P),A=x||o.payload.fill||o.color;return e.jsx("div",{className:y("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:h&&(o==null?void 0:o.value)!==void 0&&o.name?h(o.value,o.name,o,O,o.payload):e.jsxs(e.Fragment,{children:[b!=null&&b.icon?e.jsx(b.icon,{}):!d&&e.jsx("div",{className:y("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":D&&r==="dashed"}),style:{"--color-bg":A,"--color-border":A}}),e.jsxs("div",{className:y("flex flex-1 justify-between leading-none",D?"items-end":"items-center"),children:[e.jsxs("div",{className:"grid gap-1.5",children:[D?S:null,e.jsx("span",{className:"text-muted-foreground",children:(b==null?void 0:b.label)||o.name})]}),o.value&&e.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:o.value.toLocaleString()})]})]})},o.dataKey)})})]})});$.displayName="ChartTooltip";const ws=f.forwardRef(({className:s,hideIcon:a=!1,payload:t,verticalAlign:r="bottom",nameKey:i},d)=>{const{config:n}=ve();return t!=null&&t.length?e.jsx("div",{ref:d,className:y("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",s),children:t.map(l=>{const c=`${i||l.dataKey||"value"}`,h=Z(n,l,c);return e.jsxs("div",{className:y("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[h!=null&&h.icon&&!a?e.jsx(h.icon,{}):e.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),h==null?void 0:h.label]},l.value)})}):null});ws.displayName="ChartLegend";function Z(s,a,t){if(typeof a!="object"||a===null)return;const r="payload"in a&&typeof a.payload=="object"&&a.payload!==null?a.payload:void 0;let i=t;return t in a&&typeof a[t]=="string"?i=a[t]:r&&t in r&&typeof r[t]=="string"&&(i=r[t]),i in s?s[i]:s[t]}function Cs(){const s=[{name:"Mon",completed:5,total:8},{name:"Tue",completed:7,total:9},{name:"Wed",completed:3,total:7},{name:"Thu",completed:6,total:8},{name:"Fri",completed:4,total:6}],a=[{name:"Week 1",consistency:2},{name:"Week 2",consistency:4},{name:"Week 3",consistency:3},{name:"Week 4",consistency:5}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(m,{children:[e.jsx(u,{className:"pb-2",children:e.jsx(j,{className:"text-sm font-medium",children:"Task Completion Rate"})}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"67%"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"+5% from last week"}),e.jsx("div",{className:"h-[60px] mt-4",children:e.jsx("div",{className:"w-full h-full bg-slate-100 rounded-md flex items-center justify-center text-xs text-muted-foreground",children:"Bar Chart"})})]})]}),e.jsxs(m,{children:[e.jsx(u,{className:"pb-2",children:e.jsx(j,{className:"text-sm font-medium",children:"Tasks by Category"})}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"24 Tasks"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"12 completed, 12 pending"}),e.jsx("div",{className:"h-[60px] mt-4",children:e.jsx("div",{className:"w-full h-full bg-slate-100 rounded-md flex items-center justify-center text-xs text-muted-foreground",children:"Pie Chart"})})]})]}),e.jsxs(m,{children:[e.jsx(u,{className:"pb-2",children:e.jsx(j,{className:"text-sm font-medium",children:"Check-In Consistency"})}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"3/7 Days"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"42% consistent this week"}),e.jsx("div",{className:"h-[60px] mt-4",children:e.jsx("div",{className:"w-full h-full bg-slate-100 rounded-md flex items-center justify-center text-xs text-muted-foreground",children:"Line Chart"})})]})]})]}),e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"Performance Trends"}),e.jsx(C,{children:"Track productivity and task management patterns over time"})]}),e.jsx(p,{children:e.jsxs(W,{defaultValue:"tasks",children:[e.jsxs(R,{className:"w-full max-w-md mb-4",children:[e.jsx(g,{value:"tasks",children:"Task Completion"}),e.jsx(g,{value:"categories",children:"Categories"}),e.jsx(g,{value:"priorities",children:"Priorities"}),e.jsx(g,{value:"checkins",children:"Check-Ins"})]}),e.jsx(v,{value:"tasks",children:e.jsx("div",{className:"h-[300px] w-full border rounded-md flex items-center justify-center text-muted-foreground",children:e.jsx(E,{className:"w-full h-full",config:{completed:{label:"Completed"},total:{label:"Total"}},children:e.jsx(ge,{width:500,height:300,data:s,margin:{top:20,right:30,left:20,bottom:5},children:e.jsx(Y,{content:e.jsx($,{})})})})})}),e.jsx(v,{value:"categories",children:e.jsx("div",{className:"h-[300px] w-full border rounded-md flex items-center justify-center text-muted-foreground",children:e.jsx(E,{className:"w-full h-full",config:{value:{label:"Tasks"}},children:e.jsx(je,{width:500,height:300,children:e.jsx(Y,{content:e.jsx($,{})})})})})}),e.jsx(v,{value:"priorities",children:e.jsx("div",{className:"h-[300px] w-full border rounded-md flex items-center justify-center text-muted-foreground",children:"Task distribution by priority chart"})}),e.jsx(v,{value:"checkins",children:e.jsx("div",{className:"h-[300px] w-full border rounded-md flex items-center justify-center text-muted-foreground",children:e.jsx(E,{className:"w-full h-full",config:{consistency:{label:"Check-in Days"}},children:e.jsx(pe,{width:500,height:300,data:a,margin:{top:20,right:30,left:20,bottom:5},children:e.jsx(Y,{content:e.jsx($,{})})})})})})]})})]}),e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"Productivity Insights"}),e.jsx(C,{children:"AI-powered observations based on your task and check-in data"})]}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border rounded-md bg-purple-50",children:[e.jsx("h3",{className:"text-sm font-semibold mb-1",children:"Consistency Pattern"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"You tend to complete more tasks on Tuesdays and Wednesdays, while Fridays show lower completion rates."})]}),e.jsxs("div",{className:"p-4 border rounded-md bg-blue-50",children:[e.jsx("h3",{className:"text-sm font-semibold mb-1",children:"Category Focus"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Client Work tasks receive the highest completion priority, while Administrative tasks are often delayed."})]}),e.jsxs("div",{className:"p-4 border rounded-md bg-amber-50",children:[e.jsx("h3",{className:"text-sm font-semibold mb-1",children:"Improvement Suggestion"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Consider allocating specific time blocks for Administrative tasks to improve overall completion rates."})]})]})})]})]})}function Ts(){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsxs(j,{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5 text-purple-500"}),"Messaging Integration"]}),e.jsx(C,{children:"Automate your task management with messaging platform integrations"})]}),e.jsxs(p,{className:"space-y-6",children:[e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Integration Status"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-blue-500",children:[e.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"#229ED9",fillOpacity:"0.2",stroke:"#229ED9",strokeWidth:"1.5"}),e.jsx("path",{d:"M16.5 8.5L12.5 12.5L10.5 15.5L8.5 12",stroke:"#229ED9",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{className:"font-medium",children:"Telegram"})]}),e.jsx("span",{className:"text-sm px-2 py-1 rounded bg-amber-100 text-amber-800",children:"Not Connected"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-md border",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-green-500",children:[e.jsx("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",fill:"#25D366",fillOpacity:"0.2",stroke:"#25D366",strokeWidth:"1.5"}),e.jsx("path",{d:"M16 11.3C16 14.1397 13.7397 16.4 10.9 16.4C9.90631 16.4 8.98033 16.1101 8.2 15.6L6 16.4L6.8 14.2C6.28994 13.4197 6 12.4937 6 11.5C6 8.66031 8.26031 6.4 11.1 6.4C13.9397 6.4 16 8.46031 16 11.3Z",stroke:"#25D366",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsx("span",{className:"font-medium",children:"WhatsApp"})]}),e.jsx("span",{className:"text-sm px-2 py-1 rounded bg-amber-100 text-amber-800",children:"Not Connected"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Configure Integrations"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Connect your messaging accounts to send and receive task updates automatically"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(w,{variant:"outline",className:"gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"Configure Telegram"]}),e.jsxs(w,{variant:"outline",className:"gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"Configure WhatsApp"]})]})]}),e.jsxs("div",{className:"rounded-lg border bg-card p-4",children:[e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Messaging Actions"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(w,{variant:"secondary",className:"gap-2",disabled:!0,children:[e.jsx(Ve,{className:"h-4 w-4"}),"Send Today's Tasks"]}),e.jsxs(w,{variant:"secondary",className:"gap-2",disabled:!0,children:[e.jsx(We,{className:"h-4 w-4"}),"Sync Task Updates"]})]})]})]})]}),e.jsxs(m,{children:[e.jsxs(u,{children:[e.jsx(j,{children:"Message History"}),e.jsx(C,{children:"Recent messages sent and received through integrations"})]}),e.jsx(p,{children:e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx("p",{children:"No message history available"}),e.jsx("p",{className:"text-sm mt-2",children:"Connect your messaging accounts to get started"})]})})]})]})}function Ds(){return e.jsxs(W,{defaultValue:"tasks",className:"space-y-4",children:[e.jsxs(R,{className:"grid grid-cols-5 w-full max-w-3xl mx-auto",children:[e.jsxs(g,{value:"tasks",className:"flex items-center gap-2 justify-center",children:[e.jsx(Re,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Tasks"})]}),e.jsxs(g,{value:"calendar",className:"flex items-center gap-2 justify-center",children:[e.jsx(Be,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Calendar"})]}),e.jsxs(g,{value:"check-ins",className:"flex items-center gap-2 justify-center",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Check-Ins"})]}),e.jsxs(g,{value:"analytics",className:"flex items-center gap-2 justify-center",children:[e.jsx(Fe,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Analytics"})]}),e.jsxs(g,{value:"messaging",className:"flex items-center gap-2 justify-center",children:[e.jsx(ue,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Messaging"})]})]}),e.jsx(v,{value:"tasks",children:e.jsx(Ns,{})}),e.jsx(v,{value:"calendar",children:e.jsx(os,{})}),e.jsx(v,{value:"check-ins",children:e.jsx(bs,{})}),e.jsx(v,{value:"analytics",children:e.jsx(Cs,{})}),e.jsx(v,{value:"messaging",children:e.jsx(Ts,{})})]})}function Os(){const{user:s,loading:a,isAdmin:t}=qe(),{toast:r}=X();return he.useEffect(()=>{a||(console.log("Authentication Status:",{isAuthenticated:!!s,isAdmin:t,userId:s==null?void 0:s.id}),s||r({variant:"destructive",title:"Not Authenticated",description:"Please log in to access this page."}))},[s,a,r]),a?e.jsx("div",{children:"Loading..."}):s?e.jsx(Ke,{children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6 bg-gradient-to-br from-green-50 via-white to-teal-100 rounded-xl min-h-screen",children:[e.jsx(cs,{icon:xe,title:"Daily Planner",subtitle:"Plan your team's daily agenda, tasks, and meetings"}),e.jsx(ds,{}),e.jsx(Ds,{})]})}):null}export{Os as default};
