var z=Object.defineProperty,P=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var N=(s,a,r)=>a in s?z(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r,m=(s,a)=>{for(var r in a||(a={}))U.call(a,r)&&N(s,r,a[r]);if(f)for(var r of f(a))$.call(a,r)&&N(s,r,a[r]);return s},x=(s,a)=>P(s,T(a));import{r as v,j as e,cs as B,bm as E,fv as A,dI as L,a7 as l,eF as O,fw as q,bO as w,aa as k,bY as M,dq as Y,aS as H}from"./vendor-C50ijZWh.js";import{u as I,d as t,N as h,I as S,B as p}from"./index-Blbobipf.js";import{D as Q,f as R,a as V,b as W,c as G,e as J,d as K}from"./dialog-CB9qAGL5.js";import{T as X}from"./textarea-B56zo4Tx.js";import{S as Z,a as _,b as ee,c as se,d as b}from"./select-Ba1tjTaP.js";function ae({nodeId:s,screenName:a="Current Screen",onSubmit:r}){const{toast:n}=I(),[u,c]=v.useState(!1),[i,g]=v.useState({title:"",description:"",priority:"medium",screen:a,nodeId:s}),j=o=>{const{name:d,value:D}=o.target;g(F=>x(m({},F),{[d]:D}))},C=o=>{g(d=>x(m({},d),{priority:o}))},y=o=>{if(o.preventDefault(),!i.title.trim()){n({title:"Error",description:"Please enter a title for your feedback",variant:"destructive"});return}if(!i.description.trim()){n({title:"Error",description:"Please enter a description for your feedback",variant:"destructive"});return}const d=x(m({},i),{id:`fb-${Date.now()}`,status:"open",date:new Date().toISOString(),author:{name:"You",avatar:"/avatars/default.jpg"}});r&&r(d),n({title:"Feedback Submitted",description:"Your feedback has been recorded successfully."}),g({title:"",description:"",priority:"medium",screen:a,nodeId:s}),c(!1)};return e.jsxs(Q,{open:u,onOpenChange:c,children:[e.jsx(R,{asChild:!0,children:e.jsxs(t,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),"Add Feedback"]})}),e.jsxs(V,{className:"sm:max-w-[500px]",children:[e.jsxs(W,{children:[e.jsx(G,{children:"Add Quick Feedback"}),e.jsxs(J,{children:["Provide feedback for ",a,". This will be added to the feedback log."]})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(h,{htmlFor:"title",className:"text-right",children:"Title"}),e.jsx(S,{id:"title",name:"title",value:i.title,onChange:j,className:"col-span-3",placeholder:"Brief title for the feedback"})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(h,{htmlFor:"description",className:"text-right",children:"Description"}),e.jsx(X,{id:"description",name:"description",value:i.description,onChange:j,className:"col-span-3",placeholder:"Detailed description of the feedback",rows:4})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(h,{htmlFor:"priority",className:"text-right",children:"Priority"}),e.jsxs(Z,{value:i.priority,onValueChange:C,children:[e.jsx(_,{className:"col-span-3",children:e.jsx(ee,{placeholder:"Select priority"})}),e.jsxs(se,{children:[e.jsx(b,{value:"low",children:"Low"}),e.jsx(b,{value:"medium",children:"Medium"}),e.jsx(b,{value:"high",children:"High"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(h,{htmlFor:"screen",className:"text-right",children:"Screen"}),e.jsx(S,{id:"screen",name:"screen",value:i.screen,onChange:j,className:"col-span-3",disabled:!0})]})]}),e.jsxs(K,{children:[e.jsx(t,{type:"button",variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(t,{type:"submit",children:"Submit Feedback"})]})]})]})]})}function oe({projectId:s,projectName:a="App Project",onSave:r,onUndo:n,canUndo:u=!1,status:c="draft"}){const i=()=>{switch(c){case"draft":return e.jsx(p,{className:"bg-amber-500",children:"Draft"});case"review":return e.jsx(p,{className:"bg-blue-500",children:"In Review"});case"approved":return e.jsx(p,{className:"bg-green-500",children:"Approved"});default:return e.jsx(p,{className:"bg-gray-500",children:"Unknown"})}};return e.jsx("div",{className:"w-full bg-black/20 border-b border-siso-text/10 backdrop-blur-md sticky top-0 z-20",children:e.jsxs("div",{className:"container mx-auto py-2 px-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h1",{className:"text-lg font-medium flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5 text-siso-orange"}),e.jsx("span",{children:"User Flow"})]}),e.jsx("div",{className:"hidden md:block mx-2 h-4 w-px bg-siso-text/20"}),e.jsx("h2",{className:"hidden md:block text-sm text-muted-foreground",children:a}),e.jsx("div",{className:"ml-2",children:i()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(t,{variant:"outline",size:"sm",className:"hidden md:flex gap-1",onClick:n,disabled:!u,children:[e.jsx(A,{className:"h-4 w-4"}),"Undo"]}),e.jsxs(t,{variant:"outline",size:"sm",className:"hidden sm:flex gap-1",onClick:r,children:[e.jsx(L,{className:"h-4 w-4"}),"Save"]}),e.jsx(t,{variant:"outline",size:"sm",className:"hidden md:flex gap-1",asChild:!0,children:e.jsxs(l,{to:`/projects/${s}/wireframes`,children:[e.jsx(O,{className:"h-4 w-4"}),"Wireframes"]})}),e.jsx(t,{variant:"outline",size:"sm",className:"hidden md:flex gap-1",asChild:!0,children:e.jsxs(l,{to:`/projects/${s}/plan`,children:[e.jsx(q,{className:"h-4 w-4"}),"Plan"]})}),e.jsx(ae,{nodeId:"userflow-general",screenName:"User Flow"}),e.jsx("div",{className:"ml-2 hidden md:block",children:e.jsxs(t,{variant:"default",size:"sm",className:"gap-1",children:[e.jsx(w,{className:"h-4 w-4"}),"Share"]})}),e.jsx(t,{variant:"ghost",size:"icon",className:"md:hidden",children:e.jsx(k,{className:"h-5 w-5"})}),e.jsx(t,{variant:"ghost",size:"icon",className:"md:hidden",children:e.jsx(w,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"flex overflow-x-auto -mb-px pt-2 scrollbar-none gap-4",children:[e.jsx(l,{to:`/projects/${s}/userflow`,className:"text-sm text-muted-foreground hover:text-siso-text border-b-2 border-transparent hover:border-siso-orange pb-2 transition-colors",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(M,{className:"h-4 w-4"}),"Flow Editor"]})}),e.jsx(l,{to:`/projects/${s}/userflow/nodes`,className:"text-sm text-muted-foreground hover:text-siso-text border-b-2 border-transparent hover:border-siso-orange pb-2 transition-colors",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Y,{className:"h-4 w-4"}),"Screen Nodes"]})}),e.jsx(l,{to:`/projects/${s}/userflow/feedback`,className:"text-sm text-muted-foreground hover:text-siso-text border-b-2 border-transparent hover:border-siso-orange pb-2 transition-colors",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(k,{className:"h-4 w-4"}),"Feedback Log"]})}),e.jsx(l,{to:`/projects/${s}/userflow/code`,className:"text-sm text-muted-foreground hover:text-siso-text border-b-2 border-transparent hover:border-siso-orange pb-2 transition-colors",children:e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(H,{className:"h-4 w-4"}),"Code Export"]})})]})]})})}export{oe as U};
