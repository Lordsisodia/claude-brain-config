var W=Object.defineProperty,z=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var N=(e,a,s)=>a in e?W(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,A=(e,a)=>{for(var s in a||(a={}))k.call(a,s)&&N(e,s,a[s]);if(g)for(var s of g(a))T.call(a,s)&&N(e,s,a[s]);return e},I=(e,a)=>z(e,V(a));var L=(e,a)=>{var s={};for(var i in e)k.call(e,i)&&a.indexOf(i)<0&&(s[i]=e[i]);if(e!=null&&g)for(var i of g(e))a.indexOf(i)<0&&T.call(e,i)&&(s[i]=e[i]);return s};import{j as t,a7 as $,m as p,a8 as B,eJ as U,aa as q,U as E,bL as G,a9 as Z,eK as J,ah as M,aF as K,bo as R,ca as X,bn as Y,eL as H,aS as Q,ab as _,eM as ee,aZ as te,eN as se,ac as ae,O as ie,z as P,r as c,y as oe,f as w,X as ne,aG as re}from"./vendor-C50ijZWh.js";import{T as le,i as ce,j as de,k as me,h as b,a1 as fe,a0 as D,d as ue,a2 as he}from"./index-Blbobipf.js";import{bF as pe}from"./libs-B3eAAgHd.js";const be=pe("transition-all",{variants:{expanded:{true:"w-40 justify-start",false:"w-16 justify-center"}},defaultVariants:{expanded:!0}}),O=({children:e,href:a="/",className:s,onClick:i})=>t.jsx($,{to:a,className:b("flex items-center",s),onClick:i,children:e});function xe(y){var h=y,{collapsed:e=!1,setCollapsed:a,onLogoClick:s,tooltip:i=!1,link:r="/",className:d}=h,u=L(h,["collapsed","setCollapsed","onLogoClick","tooltip","link","className"]);const n=!e,l=()=>{s&&s()},m=()=>{a&&a(!e)},o=()=>t.jsx("div",I(A({className:b("flex items-center px-4 py-1.5 min-h-14",be({expanded:n}),!n&&"px-2",d),onClick:m,role:"button"},u),{children:t.jsxs("div",{className:b("flex items-center transition-all duration-300",!n&&"justify-center w-full"),children:[t.jsx("img",{src:"/lovable-uploads/c5921a2f-8856-42f4-bec5-2d08b81c5691.png",alt:"SISO AGENCY",className:b("w-9 h-9",!n&&"mx-auto")}),n&&t.jsxs(p.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},transition:{duration:.3,delay:.1},className:"ml-2.5 font-semibold text-lg whitespace-nowrap text-siso-text-bold",children:["SISO"," ",t.jsx("span",{className:"font-extrabold bg-gradient-to-r from-siso-red to-siso-orange bg-clip-text text-transparent",children:"ADMIN"})]})]})}));return i&&!n?t.jsx(le,{children:t.jsxs(ce,{delayDuration:0,children:[t.jsx(de,{asChild:!0,children:t.jsx("div",{className:"cursor-pointer",children:t.jsx(O,{href:r,onClick:l,children:t.jsx(o,{})})})}),t.jsx(me,{side:"right",sideOffset:5,className:"bg-primary text-primary-foreground",children:"SISO ADMIN"})]})}):t.jsx(O,{href:r,onClick:l,children:t.jsx(o,{})})}const ye=()=>[{type:"main",href:"/admin",icon:B,label:"Admin Dashboard"},{type:"section",title:"Client Management",icon:E,items:[{href:"/admin/clients",icon:U,label:"Clients"},{href:"/admin/outreach",icon:q,label:"Outreach"}]},{type:"section",title:"Team Operations",icon:J,items:[{href:"/admin/teams",icon:G,label:"Teams"},{href:"/admin/tasks",icon:Z,label:"Tasks"}]},{type:"section",title:"Project Management",icon:K,items:[{href:"/admin/plans/create",icon:M,label:"Plans"}]},{type:"section",title:"Automation Tools",icon:Y,items:[{href:"/admin/prompts",icon:R,label:"Prompt Manager"},{href:"/admin/templates",icon:M,label:"Templates"},{href:"/admin/automation",icon:X,label:"Automation"}]},{type:"section",title:"Development Tools",icon:Q,items:[{href:"/admin/dev-tools",icon:H,label:"SISO Dev Tools"}]},{type:"section",title:"Business Tools",icon:se,items:[{href:"/admin/daily-planner",icon:_,label:"Daily Planner"},{href:"/admin/life-lock",icon:ee,label:"Life Lock"},{href:"/admin/payments",icon:te,label:"Financials"}]},{type:"section",title:"System",icon:ie,items:[{href:"/changelog",icon:ae,label:"Changelog"}]}],je=({collapsed:e,onItemClick:a,visible:s})=>{const i=P(),[r,d]=c.useState(null),u=ye();if(c.useEffect(()=>{if(i.hash){const n=new IntersectionObserver(l=>{l.forEach(m=>{m.isIntersecting&&d(`#${m.target.id}`)})},{threshold:.5});return document.querySelectorAll("section[id]").forEach(l=>{n.observe(l)}),()=>n.disconnect()}},[i.hash]),c.useEffect(()=>{console.log("Admin - Current pathname:",i.pathname)},[i.pathname]),!s)return null;const y={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},h=(n,l=!1)=>{if(n.startsWith("#"))return n===r;const m=i.pathname.replace(/\/$/,""),o=n.replace(/\/$/,""),j=m===o,S=m.startsWith(o+"/");return l?j||S:j};return t.jsx(p.nav,{initial:"hidden",animate:"show",variants:y,className:b("px-2 py-4",e&&"px-1"),children:t.jsx("div",{className:"space-y-2",children:u.map((n,l)=>t.jsx(p.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.1},className:b("space-y-1",n.type==="section"&&"border-b border-siso-border/50 pb-2"),children:t.jsx(fe,{section:n,collapsed:e,onItemClick:a,isItemActive:m=>h(m,n.type==="main")})},l))})})},ve=({onExpandedChange:e,onMobileMenuChange:a})=>{const[s,i]=c.useState(!1),[r,d]=c.useState(!1),[u,y]=c.useState(!0),[h,n]=c.useState(!1),l=oe(),m=P(),o=D(),j=x=>{x.preventDefault();const f=x.currentTarget.getAttribute("href");if(f){if(f.startsWith("/")||f.startsWith("#/")){const v=f.startsWith("#/")?f.substring(1):f;l(v),o&&d(!1);return}if(f.startsWith("#")&&!f.startsWith("#/")){const v=document.querySelector(f);v&&(v.scrollIntoView({behavior:"smooth",block:"start"}),o&&d(!1))}}};c.useEffect(()=>{o&&d(!1)},[m.pathname]);const S={expanded:{width:"16rem",transition:{type:"tween",duration:.1,ease:"easeOut"}},collapsed:{width:o?"0":"4rem",transition:{type:"tween",duration:.1,ease:"easeIn"}}},C=()=>{!o&&!h&&(i(!0),e==null||e(!0))},F=()=>{!o&&!h&&(i(!1),e==null||e(!1))};return c.useEffect(()=>{a==null||a(r)},[r,a]),c.useEffect(()=>{o||e==null||e(s)},[s,o,e]),t.jsxs(t.Fragment,{children:[o&&t.jsx(p.div,{initial:!1,animate:{scale:1},whileTap:{scale:.95},children:t.jsx(ue,{variant:"ghost",size:"icon",className:"fixed top-4 right-4 z-50 bg-siso-bg/90 backdrop-blur-sm border border-siso-border",onClick:()=>d(!r),children:t.jsx(w,{mode:"wait",initial:!1,children:t.jsx(p.div,{initial:{opacity:0,rotate:-90},animate:{opacity:1,rotate:0},exit:{opacity:0,rotate:90},transition:{duration:.1},children:r?t.jsx(ne,{className:"h-6 w-6 text-siso-text"}):t.jsx(re,{className:"h-6 w-6 text-siso-text"})},r?"close":"menu")})})}),t.jsxs(p.div,{initial:!1,animate:o?r?"expanded":"collapsed":s?"expanded":"collapsed",variants:S,className:`
          fixed top-0 left-0 h-screen
          bg-gradient-to-b from-siso-bg via-siso-bg to-siso-bg-alt backdrop-blur-sm
          border-r border-siso-border shadow-xl
          flex flex-col
          ${o?"z-40":"z-50"}
        `,onMouseEnter:C,onMouseLeave:F,children:[t.jsx(xe,{collapsed:o?!r:!s,setCollapsed:()=>i(!s),onLogoClick:()=>y(!u)}),t.jsx("div",{className:"flex-1 overflow-y-auto admin-sidebar",children:t.jsx(w,{mode:"wait",children:t.jsx(je,{collapsed:o?!r:!s,onItemClick:j,visible:u})})}),t.jsx(he,{collapsed:o?!r:!s,onProfileOpen:x=>{n(x),x&&i(!0)}})]}),t.jsx(w,{children:o&&r&&t.jsx(p.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-30",onClick:()=>d(!1)})})]})};function ke({children:e}){const[a,s]=c.useState(!1),[i,r]=c.useState(!1),d=D(),u=()=>d?"ml-0":a?"ml-64":"ml-16";return t.jsxs("div",{className:"min-h-screen w-full relative",children:[t.jsx(ve,{onExpandedChange:s,onMobileMenuChange:r}),t.jsx("main",{className:`${u()} overflow-y-auto admin-scrollbar min-h-screen transition-all duration-100 relative`,children:e})]})}export{ke as A};
