var F=Object.defineProperty,D=Object.defineProperties;var R=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var S=(r,s,a)=>s in r?F(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a,m=(r,s)=>{for(var a in s||(s={}))T.call(s,a)&&S(r,a,s[a]);if(k)for(var a of k(s))q.call(s,a)&&S(r,a,s[a]);return r},x=(r,s)=>D(r,R(s));var C=(r,s,a)=>new Promise((u,c)=>{var d=i=>{try{n(a.next(i))}catch(o){c(o)}},t=i=>{try{n(a.throw(i))}catch(o){c(o)}},n=i=>i.done?u(i.value):Promise.resolve(i.value).then(d,t);n((a=a.apply(r,s)).next())});import{y as B,z as W,r as f,j as e,m as h,bU as z,M as _,eM as G,b6 as H,b7 as K,a7 as y,N as O}from"./vendor-C50ijZWh.js";import{C as U,a as J,b as Q,c as V,N as j,I as E,K as X,d as Y,s as M}from"./index-Blbobipf.js";import{bL as g}from"./libs-B3eAAgHd.js";import"./supabase-D8k0GRjn.js";const re=()=>{const r=B(),s=W(),[a,u]=f.useState(!1),[c,d]=f.useState(!1),[t,n]=f.useState({email:"",password:"",rememberMe:!1}),i=o=>C(void 0,null,function*(){var w,N,v,P,L;o.preventDefault(),d(!0);try{console.log("PartnerLogin - Attempting sign in with:",t.email);const{data:l,error:p}=yield M.auth.signInWithPassword({email:t.email,password:t.password});if(p)throw console.error("PartnerLogin - Sign in error:",p),p;if(console.log("PartnerLogin - Sign in successful:",(w=l.user)==null?void 0:w.id),g.success("Login successful! Welcome back."),l.user){const{data:A,error:b}=yield M.from("partner_profiles").select("*").eq("user_id",l.user.id).single();b&&b.code!=="PGRST116"&&console.error("PartnerLogin - Profile check error:",b),console.log("PartnerLogin - Partner profile found:",!!A)}const I=((N=s.state)==null?void 0:N.from)||((v=s.state)==null?void 0:v.returnTo)||"/dashboard";r(I,{replace:!0})}catch(l){console.error("PartnerLogin - Auth error:",l),(P=l.message)!=null&&P.includes("Email not confirmed")?g.error("Please verify your email address before signing in."):(L=l.message)!=null&&L.includes("Invalid login")?g.error("Invalid email or password. Please check your credentials."):g.error("Login failed. Please try again.")}finally{d(!1)}});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center px-4",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 -left-1/4 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 -right-1/4 w-96 h-96 bg-orange-600/10 rounded-full blur-3xl"})]}),e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(h.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:`inline-flex items-center gap-3 px-6 py-3 bg-gray-800/80 border border-orange-500/30 
              rounded-full backdrop-blur-sm mb-6`,children:[e.jsx(z,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"text-orange-400 font-semibold",children:"Partner Portal"})]}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-gray-400",children:"Sign in to your partner dashboard"})]}),e.jsxs(U,{className:"bg-gray-800/50 border-gray-700 backdrop-blur-sm",children:[e.jsx(J,{children:e.jsx(Q,{className:"text-white text-center",children:"Partner Login"})}),e.jsx(V,{children:e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"email",className:"text-white",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(_,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(E,{id:"email",type:"email",value:t.email,onChange:o=>n(x(m({},t),{email:o.target.value})),className:"bg-gray-700 border-gray-600 text-white pl-10 focus:border-orange-500",placeholder:"partner@example.com",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"password",className:"text-white",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(E,{id:"password",type:a?"text":"password",value:t.password,onChange:o=>n(x(m({},t),{password:o.target.value})),className:"bg-gray-700 border-gray-600 text-white pl-10 pr-10 focus:border-orange-500",placeholder:"Enter your password",required:!0}),e.jsx("button",{type:"button",onClick:()=>u(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-orange-500",children:a?e.jsx(H,{className:"w-5 h-5"}):e.jsx(K,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(X,{id:"rememberMe",checked:t.rememberMe,onCheckedChange:o=>n(x(m({},t),{rememberMe:o})),className:"border-gray-600 data-[state=checked]:bg-orange-500"}),e.jsx(j,{htmlFor:"rememberMe",className:"text-sm text-gray-300",children:"Remember me"})]}),e.jsx(y,{to:"/auth/reset-password",className:"text-sm text-orange-500 hover:text-orange-400 transition-colors",children:"Forgot password?"})]}),e.jsx(Y,{type:"submit",disabled:c,className:`w-full bg-orange-500 hover:bg-orange-600 text-white py-3 text-lg font-semibold 
                  disabled:opacity-50 disabled:cursor-not-allowed`,children:c?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing in..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:["Sign In",e.jsx(O,{className:"w-5 h-5"})]})})]})})]}),e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},className:"text-center mt-6",children:e.jsxs("p",{className:"text-gray-400",children:["Don't have an account?"," ",e.jsx(y,{to:"/auth/register",className:"text-orange-500 hover:text-orange-400 font-semibold transition-colors",children:"Apply to become a partner"})]})}),e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"text-center mt-4",children:e.jsx(y,{to:"/partnership",className:"text-sm text-gray-500 hover:text-gray-400 transition-colors",children:"‚Üê Back to Partnership Program"})})]})]})};export{re as default};
