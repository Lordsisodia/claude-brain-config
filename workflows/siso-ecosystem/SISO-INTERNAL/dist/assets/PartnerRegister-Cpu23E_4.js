var O=Object.defineProperty,U=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable;var S=(o,t,l)=>t in o?O(o,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[t]=l,i=(o,t)=>{for(var l in t||(t={}))H.call(t,l)&&S(o,l,t[l]);if(T)for(var l of T(t))J.call(t,l)&&S(o,l,t[l]);return o},n=(o,t)=>U(o,V(t));var R=(o,t,l)=>new Promise((g,u)=>{var y=s=>{try{a(l.next(s))}catch(x){u(x)}},b=s=>{try{a(l.throw(s))}catch(x){u(x)}},a=s=>s.done?g(s.value):Promise.resolve(s.value).then(y,b);a((l=l.apply(o,t)).next())});import{y as Y,r as f,j as e,m as w,bU as z,aD as K,M as W,br as X,bW as G,eM as D,b6 as L,b7 as F,a7 as j,aX as Q,N as Z}from"./vendor-C50ijZWh.js";import{C as $,a as ee,b as ae,c as re,N as c,I as h,K as A,d as se,s as E}from"./index-Blbobipf.js";import{S as M,a as I,b as _,c as q,d as p}from"./select-Ba1tjTaP.js";import{T as te}from"./textarea-B56zo4Tx.js";import{bL as m}from"./libs-B3eAAgHd.js";import"./supabase-D8k0GRjn.js";const he=()=>{const o=Y(),[t,l]=f.useState(!1),[g,u]=f.useState(!1),[y,b]=f.useState(!1),[a,s]=f.useState({name:"",email:"",phone:"",company:"",password:"",confirmPassword:"",experienceLevel:"",networkDescription:"",expectedReferrals:"",agreeToTerms:!1,agreeToMarketing:!1}),x=r=>R(void 0,null,function*(){var N,P,k;if(r.preventDefault(),a.password!==a.confirmPassword){m.error("Passwords do not match");return}if(!a.agreeToTerms){m.error("Please agree to the terms and conditions");return}if(a.password.length<6){m.error("Password must be at least 6 characters long");return}b(!0);try{console.log("PartnerRegister - Attempting registration for:",a.email);const{data:d,error:v}=yield E.auth.signUp({email:a.email,password:a.password,options:{data:{full_name:a.name,user_role:"partner",phone:a.phone,company:a.company||null}}});if(v)throw console.error("PartnerRegister - Auth signup error:",v),v;if(console.log("PartnerRegister - Auth user created:",(N=d.user)==null?void 0:N.id),d.user){const{error:C}=yield E.from("partner_applications").insert({user_id:d.user.id,name:a.name,email:a.email,phone:a.phone,company:a.company||null,experience_level:a.experienceLevel,network_description:a.networkDescription,expected_referrals:parseInt(a.expectedReferrals)||1,status:"pending",source:"partner-registration",application_data:{agreeToMarketing:a.agreeToMarketing,registrationDate:new Date().toISOString()}});C?console.error("PartnerRegister - Application creation error:",C):console.log("PartnerRegister - Partner application created successfully")}m.success("Registration successful! Please check your email to verify your account."),o("/auth/login",{state:{message:"Registration successful! Please sign in with your new account.",email:a.email}})}catch(d){console.error("PartnerRegister - Registration error:",d),(P=d.message)!=null&&P.includes("already registered")?m.error("An account with this email already exists. Please sign in instead."):(k=d.message)!=null&&k.includes("Password")?m.error("Password requirements not met. Please use a stronger password."):m.error("Registration failed. Please try again.")}finally{b(!1)}}),B=[{value:"beginner",label:"Beginner (0-1 years)"},{value:"intermediate",label:"Intermediate (2-5 years)"},{value:"experienced",label:"Experienced (5+ years)"},{value:"expert",label:"Expert (10+ years)"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 to-black flex items-center justify-center px-4 py-8",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 -left-1/4 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 -right-1/4 w-96 h-96 bg-orange-600/10 rounded-full blur-3xl"})]}),e.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-2xl relative z-10",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(w.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:`inline-flex items-center gap-3 px-6 py-3 bg-gray-800/80 border border-orange-500/30 
              rounded-full backdrop-blur-sm mb-6`,children:[e.jsx(z,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"text-orange-400 font-semibold",children:"Partner Application"})]}),e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join Our Partner Program"}),e.jsx("p",{className:"text-gray-400",children:"Start earning £500 per successful referral"})]}),e.jsxs($,{className:"bg-gray-800/50 border-gray-700 backdrop-blur-sm",children:[e.jsx(ee,{children:e.jsx(ae,{className:"text-white text-center",children:"Partner Registration"})}),e.jsx(re,{children:e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",className:"text-white",children:"Full Name *"}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(h,{id:"name",type:"text",value:a.name,onChange:r=>s(n(i({},a),{name:r.target.value})),className:"bg-gray-700 border-gray-600 text-white pl-10 focus:border-orange-500",placeholder:"John Smith",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"email",className:"text-white",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(h,{id:"email",type:"email",value:a.email,onChange:r=>s(n(i({},a),{email:r.target.value})),className:"bg-gray-700 border-gray-600 text-white pl-10 focus:border-orange-500",placeholder:"john@example.com",required:!0})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"phone",className:"text-white",children:"Phone Number *"}),e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(h,{id:"phone",type:"tel",value:a.phone,onChange:r=>s(n(i({},a),{phone:r.target.value})),className:"bg-gray-700 border-gray-600 text-white pl-10 focus:border-orange-500",placeholder:"+44 7123 456789",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"company",className:"text-white",children:"Company (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(h,{id:"company",type:"text",value:a.company,onChange:r=>s(n(i({},a),{company:r.target.value})),className:"bg-gray-700 border-gray-600 text-white pl-10 focus:border-orange-500",placeholder:"Your Company Ltd"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password",className:"text-white",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(h,{id:"password",type:t?"text":"password",value:a.password,onChange:r=>s(n(i({},a),{password:r.target.value})),className:"bg-gray-700 border-gray-600 text-white pl-10 pr-10 focus:border-orange-500",placeholder:"Create password",required:!0}),e.jsx("button",{type:"button",onClick:()=>l(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-orange-500",children:t?e.jsx(L,{className:"w-5 h-5"}):e.jsx(F,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"confirmPassword",className:"text-white",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(h,{id:"confirmPassword",type:g?"text":"password",value:a.confirmPassword,onChange:r=>s(n(i({},a),{confirmPassword:r.target.value})),className:"bg-gray-700 border-gray-600 text-white pl-10 pr-10 focus:border-orange-500",placeholder:"Confirm password",required:!0}),e.jsx("button",{type:"button",onClick:()=>u(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-orange-500",children:g?e.jsx(L,{className:"w-5 h-5"}):e.jsx(F,{className:"w-5 h-5"})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"experienceLevel",className:"text-white",children:"Experience Level *"}),e.jsxs(M,{value:a.experienceLevel,onValueChange:r=>s(n(i({},a),{experienceLevel:r})),children:[e.jsx(I,{className:"bg-gray-700 border-gray-600 text-white focus:border-orange-500",children:e.jsx(_,{placeholder:"Select your experience level"})}),e.jsx(q,{className:"bg-gray-700 border-gray-600",children:B.map(r=>e.jsx(p,{value:r.value,className:"text-white hover:bg-gray-600",children:r.label},r.value))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"networkDescription",className:"text-white",children:"Describe Your Network *"}),e.jsx(te,{id:"networkDescription",value:a.networkDescription,onChange:r=>s(n(i({},a),{networkDescription:r.target.value})),className:"bg-gray-700 border-gray-600 text-white focus:border-orange-500 min-h-[100px]",placeholder:"Tell us about your professional network, industry connections, and how you plan to refer clients...",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"expectedReferrals",className:"text-white",children:"Expected Monthly Referrals *"}),e.jsxs(M,{value:a.expectedReferrals,onValueChange:r=>s(n(i({},a),{expectedReferrals:r})),children:[e.jsx(I,{className:"bg-gray-700 border-gray-600 text-white focus:border-orange-500",children:e.jsx(_,{placeholder:"How many referrals do you expect to make per month?"})}),e.jsxs(q,{className:"bg-gray-700 border-gray-600",children:[e.jsx(p,{value:"1-2",className:"text-white hover:bg-gray-600",children:"1-2 referrals"}),e.jsx(p,{value:"3-5",className:"text-white hover:bg-gray-600",children:"3-5 referrals"}),e.jsx(p,{value:"6-10",className:"text-white hover:bg-gray-600",children:"6-10 referrals"}),e.jsx(p,{value:"10+",className:"text-white hover:bg-gray-600",children:"10+ referrals"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(A,{id:"agreeToTerms",checked:a.agreeToTerms,onCheckedChange:r=>s(n(i({},a),{agreeToTerms:r})),className:"border-gray-600 data-[state=checked]:bg-orange-500 mt-1"}),e.jsxs(c,{htmlFor:"agreeToTerms",className:"text-sm text-gray-300 leading-relaxed",children:["I agree to the"," ",e.jsx(j,{to:"/terms",className:"text-orange-500 hover:text-orange-400",children:"Terms and Conditions"})," ","and"," ",e.jsx(j,{to:"/privacy",className:"text-orange-500 hover:text-orange-400",children:"Privacy Policy"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(A,{id:"agreeToMarketing",checked:a.agreeToMarketing,onCheckedChange:r=>s(n(i({},a),{agreeToMarketing:r})),className:"border-gray-600 data-[state=checked]:bg-orange-500 mt-1"}),e.jsx(c,{htmlFor:"agreeToMarketing",className:"text-sm text-gray-300 leading-relaxed",children:"I would like to receive marketing communications and partner updates via email"})]})]}),e.jsx(se,{type:"submit",disabled:y,className:`w-full bg-orange-500 hover:bg-orange-600 text-white py-3 text-lg font-semibold 
                  disabled:opacity-50 disabled:cursor-not-allowed`,children:y?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating Account..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"w-5 h-5"}),"Create Partner Account",e.jsx(Z,{className:"w-5 h-5"})]})})]})})]}),e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},className:"text-center mt-6",children:e.jsxs("p",{className:"text-gray-400",children:["Already have an account?"," ",e.jsx(j,{to:"/auth/login",className:"text-orange-500 hover:text-orange-400 font-semibold transition-colors",children:"Sign in here"})]})}),e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},className:"text-center mt-4",children:e.jsx(j,{to:"/partnership",className:"text-sm text-gray-500 hover:text-gray-400 transition-colors",children:"← Back to Partnership Program"})})]})]})};export{he as default};
