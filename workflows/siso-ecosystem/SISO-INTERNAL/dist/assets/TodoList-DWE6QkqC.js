var v=Object.defineProperty,k=Object.defineProperties;var w=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var p=(t,a,l)=>a in t?v(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,f=(t,a)=>{for(var l in a||(a={}))y.call(a,l)&&p(t,l,a[l]);if(u)for(var l of u(a))C.call(a,l)&&p(t,l,a[l]);return t},j=(t,a)=>k(t,w(a));import{r as N,j as e,a$ as A,aD as z,X as D,aQ as E}from"./vendor-C50ijZWh.js";import{K as I,J as _,d as r,I as $}from"./index-Blbobipf.js";function B({todos:t=[],onUpdate:a,clientId:l,disabled:c=!1}){const[d,o]=N.useState(""),[x,n]=N.useState(!1),h=()=>{if(!d.trim())return;const s={id:`todo-${Date.now()}`,text:d,completed:!1,priority:"medium"};a([...t,s]),o(""),n(!1)},g=s=>{const m=t.map(i=>i.id===s?j(f({},i),{completed:!i.completed}):i);a(m)},T=s=>{const m=t.filter(i=>i.id!==s);a(m)};return e.jsxs("div",{className:"space-y-2",children:[t.length===0&&!x?e.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No tasks yet. Add your first task."}):e.jsx("ul",{className:"space-y-2",children:t.map(s=>e.jsxs("li",{className:"flex items-start gap-2 group",children:[e.jsx(I,{checked:s.completed,onCheckedChange:()=>g(s.id),className:"mt-1",disabled:c}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:`${s.completed?"line-through text-muted-foreground":""}`,children:s.text}),e.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[e.jsx(A,{className:"h-3 w-3 mr-1"}),s.due_date?_(s.due_date):"No due date",s.assigned_to&&e.jsxs("span",{className:"ml-2 flex items-center",children:[e.jsx(z,{className:"h-3 w-3 mr-1"}),s.assigned_to]})]})]}),e.jsx(r,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100 transition-opacity h-6 w-6",onClick:()=>T(s.id),disabled:c,children:e.jsx(D,{className:"h-3 w-3"})})]},s.id))}),x?e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-4"})," ",e.jsxs("div",{className:"flex-1",children:[e.jsx($,{value:d,onChange:s=>o(s.target.value),placeholder:"What needs to be done?",className:"mb-2",autoFocus:!0,disabled:c,onKeyDown:s=>{s.key==="Enter"&&h(),s.key==="Escape"&&n(!1)}}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{size:"sm",onClick:h,disabled:c,children:"Add Task"}),e.jsx(r,{size:"sm",variant:"ghost",onClick:()=>n(!1),disabled:c,children:"Cancel"})]})]})]}):e.jsxs(r,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>n(!0),disabled:c,children:[e.jsx(E,{className:"h-4 w-4 mr-1"}),"Add Task"]})]})}export{B as T};
