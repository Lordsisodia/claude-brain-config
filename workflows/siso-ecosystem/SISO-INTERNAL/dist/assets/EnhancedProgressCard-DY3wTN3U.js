import{y as f,j as e,m as c,aX as y,aY as j,b3 as w,N as p,bl as N,f as S,af as v}from"./vendor-C50ijZWh.js";import{C as k,a as A,P as x,c as P,B as h,d as u}from"./index-Blbobipf.js";const C=()=>{const a=localStorage.getItem("business-onboarding-data"),s=localStorage.getItem("workflow-completed-tasks");let o=0;if(a){const r=JSON.parse(a);r.businessName&&(o+=10),r.appPurpose&&(o+=10),r.industry&&(o+=10),r.completedAt&&(o+=10)}if(s){const r=JSON.parse(s);o+=Math.min(r.length*6.7,60)}return Math.min(Math.round(o),100)},b=()=>{const a=C(),s=localStorage.getItem("business-onboarding-data"),o=localStorage.getItem("app-plan-data"),r=JSON.parse(localStorage.getItem("workflow-completed-tasks")||"[]");let n=null,t=null;try{n=s?JSON.parse(s):null,t=o?JSON.parse(o):null}catch(d){console.warn("Error parsing dashboard data:",d)}const i=[{id:"onboarding",name:"Business Onboarding",completed:!!(n!=null&&n.completedAt),progress:a,description:"Share your business information",icon:"📋",color:"blue"},{id:"app_plan",name:"AI App Plan",completed:!!t,progress:t?100:0,description:"AI-generated development plan",icon:"🤖",color:"purple"},{id:"requirements",name:"Requirements Review",completed:r.includes("workflow-2"),progress:r.includes("workflow-2")?100:0,description:"Finalize app specifications",icon:"✅",color:"green"},{id:"development",name:"Development Phase",completed:r.includes("workflow-3"),progress:r.includes("workflow-3")?100:0,description:"App development in progress",icon:"⚡",color:"orange"},{id:"testing",name:"Testing & QA",completed:r.includes("workflow-4"),progress:r.includes("workflow-4")?100:0,description:"Quality assurance testing",icon:"🔍",color:"indigo"},{id:"deployment",name:"Launch Ready",completed:r.includes("workflow-5"),progress:r.includes("workflow-5")?100:0,description:"Ready for deployment",icon:"🚀",color:"emerald"}],l=i.filter(d=>d.completed).length;return{overallProgress:Math.round(l/i.length*100),completedStages:l,totalStages:i.length,progressStages:i,nextStage:i.find(d=>!d.completed),engagementScore:M(n,t,r),timelineMetrics:I(n,r),achievements:O(n,t,r)}},M=(a,s,o)=>{let r=0;return a!=null&&a.completedAt&&(r+=25),s&&(r+=25),r+=Math.min(o.length*8,40),o.filter(t=>!0).length>0&&(r+=10),Math.min(r,100)},I=(a,s)=>{const o=a!=null&&a.completedAt?new Date(a.completedAt):new Date,n=Math.floor((new Date().getTime()-o.getTime())/(1e3*60*60*24)),t=14;s.length/6*100;const i=Math.max(0,t-n);return{daysElapsed:n,estimatedDaysRemaining:i,onTrack:n<=t*.8,projectStartDate:o.toISOString(),estimatedCompletionDate:new Date(o.getTime()+t*24*60*60*1e3).toISOString()}},O=(a,s,o)=>{const r=[];return a!=null&&a.completedAt&&r.push({id:"first_steps",name:"First Steps",description:"Completed business onboarding",icon:"🌟",unlockedAt:a.completedAt,color:"blue"}),s&&r.push({id:"ai_powered",name:"AI Powered",description:"Generated AI app plan",icon:"🤖",unlockedAt:new Date().toISOString(),color:"purple"}),o.length>=3&&r.push({id:"momentum_builder",name:"Momentum Builder",description:"Completed 3+ project milestones",icon:"⚡",unlockedAt:new Date().toISOString(),color:"orange"}),o.length>=5&&r.push({id:"almost_there",name:"Almost There",description:"Nearing project completion",icon:"🎯",unlockedAt:new Date().toISOString(),color:"green"}),r},T=()=>{var i;const a=b(),s=localStorage.getItem("business-onboarding-data");let o="there";try{const l=s?JSON.parse(s):null;o=(l==null?void 0:l.businessName)||"there"}catch(l){console.warn("Error parsing business data for greeting:",l)}const r=new Date().getHours(),n=r<12?"Good morning":r<17?"Good afternoon":"Good evening";let t="";return a.overallProgress===0?t="Let's get your project started!":a.overallProgress<50?t="Great progress so far!":a.overallProgress<80?t="You're making excellent progress!":t="Almost ready to launch!",{greeting:`${n}, ${o}!`,statusMessage:t,progressPercentage:a.overallProgress,nextAction:((i=a.nextStage)==null?void 0:i.description)||"All stages completed!"}};function R(){const a=f(),s=b(),o=T(),r=t=>{const i={blue:"bg-blue-500/20 text-blue-300 border-blue-500/30",purple:"bg-purple-500/20 text-purple-300 border-purple-500/30",green:"bg-green-500/20 text-green-300 border-green-500/30",orange:"bg-orange-500/20 text-orange-300 border-orange-500/30",indigo:"bg-indigo-500/20 text-indigo-300 border-indigo-500/30",emerald:"bg-emerald-500/20 text-emerald-300 border-emerald-500/30"};return i[t]||i.blue},n=t=>{switch(t){case"onboarding":a("/onboarding");break;case"app_plan":a("/app-plan");break;case"requirements":a("/plan-builder");break;case"development":a("/projects");break;case"testing":a("/projects");break;case"deployment":a("/projects");break;default:a("/home")}};return e.jsxs(k,{className:"bg-black/30 border border-gray-700/50 backdrop-blur-sm shadow-2xl",children:[e.jsxs(A,{className:"space-y-4",children:[e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[e.jsx("h3",{className:"text-2xl font-bold text-white",children:o.greeting}),e.jsx("p",{className:"text-gray-300",children:o.statusMessage})]}),e.jsxs(c.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Project Progress"}),e.jsxs("span",{className:"text-lg font-bold text-white",children:[s.overallProgress,"%"]})]}),e.jsx(x,{value:s.overallProgress,className:"h-3 bg-gray-700/50",indicatorColor:"bg-gradient-to-r from-orange-500 to-orange-600"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"w-4 h-4 text-green-400"}),s.completedStages,"/",s.totalStages," stages"]}),s.timelineMetrics&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-4 h-4"}),s.timelineMetrics.estimatedDaysRemaining," days remaining"]})]})]})]}),e.jsxs(P,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4 text-orange-500"}),"Project Milestones"]}),e.jsx("div",{className:"grid gap-3",children:s.progressStages.map((t,i)=>{var l,g,m;return e.jsxs(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.1},className:`flex items-center justify-between p-3 rounded-lg border 
                  ${t.completed?"bg-green-500/10 border-green-500/30":t.id===((l=s.nextStage)==null?void 0:l.id)?"bg-orange-500/10 border-orange-500/30":"bg-gray-700/20 border-gray-600/30"} transition-all duration-300`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm
                    ${t.completed?"bg-green-500 text-white":t.id===((g=s.nextStage)==null?void 0:g.id)?"bg-orange-500 text-white":"bg-gray-600 text-gray-300"}`,children:t.completed?"✓":t.icon}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${t.completed?"text-green-300":"text-white"}`,children:t.name}),e.jsx("p",{className:"text-xs text-gray-400",children:t.description})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:t.completed?e.jsx(h,{variant:"outline",className:"bg-green-500/20 text-green-300 border-green-500/30",children:"Complete"}):t.id===((m=s.nextStage)==null?void 0:m.id)?e.jsxs(u,{size:"sm",onClick:()=>n(t.id),className:"bg-orange-500 hover:bg-orange-600 text-white h-7 px-3",children:["Continue",e.jsx(p,{className:"w-3 h-3 ml-1"})]}):e.jsx(h,{variant:"outline",className:"bg-gray-600/20 text-gray-400 border-gray-600/30",children:"Pending"})})]},t.id)})})]}),e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-r from-purple-500/10 to-blue-500/10 border border-purple-500/30 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4 text-purple-400"}),"Engagement Score"]}),e.jsxs("span",{className:"text-xl font-bold text-purple-300",children:[s.engagementScore,"/100"]})]}),e.jsx(x,{value:s.engagementScore,className:"h-2 bg-gray-700/50",indicatorColor:"bg-gradient-to-r from-purple-500 to-blue-500"}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:s.engagementScore>=75?"Excellent engagement! You're on track for success.":s.engagementScore>=50?"Good progress! Keep up the momentum.":"Let's boost your project activity for better results."})]}),e.jsx(S,{children:s.achievements.length>0&&e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-yellow-500"}),"Achievements"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.achievements.map((t,i)=>e.jsxs(c.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.7+i*.1},className:`px-3 py-2 rounded-full border text-xs font-medium flex items-center gap-1.5
                      ${r(t.color)}`,children:[e.jsx("span",{children:t.icon}),t.name]},t.id))})]})}),s.nextStage&&e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-gradient-to-r from-orange-500/10 to-red-500/10 border border-orange-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-white mb-2",children:"Next Step"}),e.jsx("p",{className:"text-gray-300 text-sm mb-3",children:s.nextStage.description}),e.jsxs(u,{onClick:()=>n(s.nextStage.id),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white",children:[s.nextStage.name,e.jsx(p,{className:"w-4 h-4 ml-2"})]})]})]})]})}export{R as E};
