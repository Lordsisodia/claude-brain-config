var G=Object.defineProperty,$=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var V=(s,t,i)=>t in s?G(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,x=(s,t)=>{for(var i in t||(t={}))L.call(t,i)&&V(s,i,t[i]);if(k)for(var i of k(t))U.call(t,i)&&V(s,i,t[i]);return s},b=(s,t)=>$(s,B(t));var I=(s,t)=>{var i={};for(var r in s)L.call(s,r)&&t.indexOf(r)<0&&(i[r]=s[r]);if(s!=null&&k)for(var r of k(s))t.indexOf(r)<0&&U.call(s,r)&&(i[r]=s[r]);return i};var A=(s,t,i)=>new Promise((r,p)=>{var u=o=>{try{n(i.next(o))}catch(h){p(h)}},g=o=>{try{n(i.throw(o))}catch(h){p(h)}},n=o=>o.done?r(o.value):Promise.resolve(o.value).then(u,g);n((i=i.apply(s,t)).next())});import{j as e,r as f,y as F,br as q,L as D,bp as X,B as Y}from"./vendor-C50ijZWh.js";import{u as J}from"./useOnboardingAuth-qoSJLt0r.js";import{h as H,u as K,d as z,T as Q,i as Z,j as ee,I as te,k as se,s as R,W as ie,P as ae}from"./index-Blbobipf.js";import"./libs-B3eAAgHd.js";import"./supabase-D8k0GRjn.js";function re(g){var n=g,{children:s,className:t,colors:i=["#ffaa40","#9c40ff","#ffaa40"],animationSpeed:r=8,showBorder:p=!1}=n,u=I(n,["children","className","colors","animationSpeed","showBorder"]);const o={backgroundImage:`linear-gradient(to right, ${i.join(", ")})`,animationDuration:`${r}s`};return e.jsxs("div",b(x({className:H("relative mx-auto flex max-w-fit flex-row items-center justify-center","rounded-[1.25rem] font-medium backdrop-blur transition-shadow duration-500","overflow-hidden cursor-pointer",t)},u),{children:[p&&e.jsx("div",{className:"absolute inset-0 bg-cover z-0 pointer-events-none animate-gradient",style:b(x({},o),{backgroundSize:"300% 100%"}),children:e.jsx("div",{className:"absolute inset-0 bg-background rounded-[1.25rem] z-[-1]",style:{width:"calc(100% - 2px)",height:"calc(100% - 2px)",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}})}),e.jsx("div",{className:"inline-block relative z-2 text-transparent bg-cover animate-gradient",style:b(x({},o),{backgroundClip:"text",WebkitBackgroundClip:"text",backgroundSize:"300% 100%"}),children:s})]}))}const ne=({userId:s})=>{const[t,i]=f.useState(""),[r,p]=f.useState(""),[u,g]=f.useState(""),[n,o]=f.useState(""),[h,_]=f.useState(!1),[v,P]=f.useState({linkedin:!0,website:!0,twitter:!0,whatsapp:!0}),W=F(),{toast:w}=K(),j=(a,l)=>{if(!a)return!0;let c=/^https?:\/\/.+\..+/.test(a);return l==="linkedin"?c=c&&a.includes("linkedin.com"):l==="twitter"&&(c=c&&(a.includes("twitter.com")||a.includes("x.com"))),P(d=>b(x({},d),{[l]:c})),c},N=a=>{if(!a)return!1;const l=/^[+]?[\d\s()-]{8,20}$/.test(a);return P(m=>b(x({},m),{whatsapp:l})),l},M=()=>{let a=[t,r,u].filter(l=>l.trim().length>0).length;return n.trim().length>0&&a++,a},O=()=>A(void 0,null,function*(){const a=j(t,"linkedin"),l=j(r,"website"),m=j(u,"twitter"),c=N(n);if(!a||!l||!m){w({variant:"destructive",title:"Invalid URLs",description:"Please check your social media links"});return}if(!c){w({variant:"destructive",title:"WhatsApp Number Required",description:"Please enter a valid WhatsApp number with country code"});return}try{if(_(!0),s){const{error:d}=yield R.from("profiles").update({linkedin_url:t,website_url:r,twitter_url:u,whatsapp_number:n,has_completed_social_info:!0,social_info_completed_at:new Date().toISOString()}).eq("id",s);if(d)throw d}else{const{error:d}=yield R.from("onboarding").insert([{linkedin_url:t,website_url:r,twitter_url:u,whatsapp_number:n,app_idea:"OnlyFans Management Platform",status:"pending_account"}]);if(d)throw d}w({title:"Information saved!",description:"Moving to the next step..."}),W("/thank-you-plan")}catch(d){console.error("Error saving information:",d),w({variant:"destructive",title:"Error saving information",description:d.message||"Please try again"})}finally{_(!1)}}),y=({icon:a,placeholder:l,value:m,onChange:c,tooltip:d,type:S,isValid:E,required:T=!1})=>e.jsx(Q,{children:e.jsxs(Z,{children:[e.jsx(ee,{asChild:!0,children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-siso-text/70",children:e.jsx(a,{className:"w-5 h-5"})}),e.jsx(te,{type:S==="whatsapp"?"tel":"url",placeholder:l,value:m,onChange:C=>{c(C),S==="whatsapp"?N(C.target.value):j(C.target.value,S)},className:`pl-11 w-full bg-white/5 border-siso-border text-siso-text transition-colors duration-300
                ${E?"hover:border-siso-border-hover focus:border-siso-red":"border-red-500"}`,required:T}),T&&e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-red-500 text-xs",children:"*"})]})}),e.jsx(se,{children:e.jsx("p",{children:d})})]})});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(re,{className:"text-2xl font-bold",children:"Almost There! Connect With Us"}),e.jsx("p",{className:"text-siso-text",children:"Share your contact information so we can update you on your MVP progress"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(y,{icon:q,placeholder:"WhatsApp Number (with country code)",value:n,onChange:a=>o(a.target.value),tooltip:"We'll update you on your MVP progress via WhatsApp",type:"whatsapp",isValid:v.whatsapp,required:!0}),e.jsx("div",{className:"pt-2 pb-1",children:e.jsx("h3",{className:"text-white text-sm font-medium mb-2",children:"Social Profiles (Optional)"})}),e.jsx(y,{icon:D,placeholder:"LinkedIn Profile URL",value:t,onChange:a=>i(a.target.value),tooltip:"Connect with other professionals and showcase your expertise",type:"linkedin",isValid:v.linkedin}),e.jsx(y,{icon:X,placeholder:"Website URL",value:r,onChange:a=>p(a.target.value),tooltip:"Share your personal or business website",type:"website",isValid:v.website}),e.jsx(y,{icon:Y,placeholder:"Twitter Profile URL",value:u,onChange:a=>g(a.target.value),tooltip:"Join the conversation and stay updated with the latest trends",type:"twitter",isValid:v.twitter})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-siso-text",children:[M()," of 4 fields completed"]}),e.jsxs("div",{className:"space-x-4",children:[e.jsx(z,{variant:"outline",onClick:()=>W("/thank-you-plan"),className:"bg-white/10 text-white hover:bg-white/20",children:"Skip"}),e.jsx(z,{onClick:O,disabled:h||!N(n),className:"bg-gradient-to-r from-siso-red to-siso-orange hover:opacity-90",children:h?"Saving...":"Continue"})]})]})]})};function he(){const{userId:s,isLoading:t}=J();return t?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-siso-red"})}):e.jsxs("div",{className:"relative min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-siso-bg to-black p-4 overflow-hidden",children:[e.jsx(ie,{lineColor:"rgba(255, 87, 34, 0.2)",waveSpeedX:.02,waveSpeedY:.01,waveAmpX:40,waveAmpY:20,friction:.9,tension:.01,maxCursorMove:120,xGap:12,yGap:36}),e.jsxs("div",{className:"w-full max-w-md bg-black/20 backdrop-blur-lg rounded-lg shadow-xl p-8 space-y-6 border border-siso-border relative z-10",children:[e.jsxs("div",{className:"absolute -top-14 left-0 w-full flex flex-col items-center gap-2",children:[e.jsx(ae,{value:66,className:"w-48 h-2 bg-siso-bg-alt",indicatorClassName:"bg-gradient-to-r from-siso-red to-siso-orange"}),e.jsx("span",{className:"px-4 py-1 rounded-full bg-siso-bg-alt border border-siso-border text-sm text-siso-text",children:"Step 2 of 3"})]}),e.jsx(ne,{userId:s})]})]})}export{he as default};
