import{a8 as $,a9 as y,aa as B,ab as G,ac as q,ae as w,af as H,ag as C,ah as Q,y as _,j as e,m as p,z as R,r as N,aQ as S,aF as k,aC as A,aD as V,aE as W}from"./vendor-C50ijZWh.js";import{h as z,r as Y,a3 as J,a4 as K,l as X,D as L,t as P,d as M,A as g,p as j,q as v,v as D,Q as m,B as Z,x as O}from"./index-Blbobipf.js";import{a as U,b as I,c as T,d as ee,e as se,f as ae,g as te,S as re}from"./sidebar-DSZsRBzS.js";const ie=[{type:"main",href:"/client-dashboard",icon:$,label:"Dashboard"},{type:"section",title:"Projects & Tasks",icon:y,items:[{href:"/client-dashboard/tasks",icon:y,label:"Active Tasks"},{href:"/onboarding-chat",icon:B,label:"SISO Assistant"},{href:"/client-dashboard/timeline",icon:G,label:"Timeline"},{href:"/client-dashboard/plan-features",icon:q,label:"App Plan"}]},{type:"section",title:"Financial",icon:w,items:[{href:"/client-dashboard/financial/payments",icon:w,label:"Financial"},{href:"/financial/leaderboards",icon:H,label:"Leaderboards"}]},{type:"section",title:"Resources",icon:C,items:[{href:"/resources",icon:C,label:"Help & Support"},{href:"/resources/documents",icon:Q,label:"Documents"}]}];function ne({section:r,isItemActive:c,onItemClick:x,collapsed:s}){var d;const h=_();return r.type==="main"?e.jsx(p.div,{children:e.jsx(U,{children:e.jsx(I,{children:e.jsx(T,{asChild:!0,isActive:c(r.href,!0),children:e.jsxs("a",{href:r.href,onClick:n=>{n.preventDefault(),h(r.href),x()},className:"flex items-center gap-3 w-full",children:[e.jsx(r.icon,{className:"w-5 h-5"}),e.jsx("span",{children:r.label})]})})})})}):r.type==="section"?e.jsx(p.div,{className:"space-y-1 border-b border-purple-900/20 pb-2",children:e.jsxs(ee,{children:[e.jsx(se,{children:r.title}),e.jsx(ae,{children:e.jsx(U,{children:(d=r.items)==null?void 0:d.map(n=>e.jsx(I,{children:e.jsx(T,{asChild:!0,isActive:c(n.href),children:e.jsxs("a",{href:n.href,onClick:a=>{a.preventDefault(),h(n.href),x()},className:"flex items-center gap-3 w-full",children:[e.jsx(n.icon,{className:"w-5 h-5"}),e.jsx("span",{children:n.label})]})})},n.href))})})]})}):null}function le({collapsed:r=!1,onItemClick:c=()=>{},visible:x=!0}){const s=R(),[h,d]=N.useState(null);N.useEffect(()=>{if(s.hash){const l=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&d(`#${o.target.id}`)})},{threshold:.5});return document.querySelectorAll("section[id]").forEach(i=>{l.observe(i)}),()=>l.disconnect()}},[s.hash]);const n=(l,i=!1)=>{if(!l)return!1;const o=s.pathname.replace(/\/$/,""),u=l.replace(/\/$/,""),b=o===u,f=o.startsWith(u+"/");return i?b||f:b};if(!x)return null;const a={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}};return e.jsx(te,{children:e.jsx(p.nav,{initial:"hidden",animate:"show",variants:a,className:z("px-2 py-4",r&&"px-1"),children:e.jsx("div",{className:"space-y-2",children:ie.map((l,i)=>e.jsx(p.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.1},children:e.jsx(ne,{section:l,isItemActive:n,onItemClick:c,collapsed:r})},i))})})})}function oe(){const r=_(),[c,x]=N.useState(!0),{data:s}=Y(),{projects:h,selectProject:d,isNewUser:n}=J(),{data:a,isLoading:l}=K(),{user:i,handleSignOut:o}=X(),u=t=>{d(t)},b=t=>{switch(t){case"active":return"bg-green-500/20 text-green-400 border-green-500/20";case"paused":return"bg-amber-500/20 text-amber-400 border-amber-500/20";case"completed":return"bg-blue-500/20 text-blue-400 border-blue-500/20";default:return"bg-gray-500/20 text-gray-400 border-gray-500/20"}},f=()=>a!=null&&a.company_name?a.company_name.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().slice(0,2):a!=null&&a.contact_name?a.contact_name.split(" ").map(t=>t.charAt(0)).join("").toUpperCase().slice(0,2):i!=null&&i.email?i.email.slice(0,2).toUpperCase():"U",F=()=>a!=null&&a.company_name?a.company_name:a!=null&&a.contact_name?a.contact_name:i!=null&&i.email?i.email.split("@")[0]:"User",E=()=>a?"Client":"User";return e.jsx(re,{defaultOpen:!0,children:e.jsx("aside",{className:"w-64 flex-shrink-0 flex flex-col h-screen bg-siso-bg border-r border-siso-border",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-4 flex items-center justify-center border-b border-siso-border",children:[e.jsx("img",{src:"/lovable-uploads/c5921a2f-8856-42f4-bec5-2d08b81c5691.png",alt:"SISO Agency",className:"h-10 w-10 rounded-xl border border-siso-orange/60 shadow-lg bg-black/40"}),e.jsx("span",{className:"ml-3 text-siso-text-bold text-lg font-bold",children:"SISO Agency"})]}),e.jsx("div",{className:"mx-4 my-4",children:e.jsxs(L,{children:[e.jsx(P,{asChild:!0,children:e.jsxs(M,{variant:"outline",className:"w-full h-16 justify-between bg-siso-bg-alt border-siso-border hover:bg-siso-bg-alt/80 hover:border-siso-border-hover group transition-all duration-300",onClick:t=>{n&&(t.preventDefault(),t.stopPropagation(),r("/onboarding-chat"))},children:[n?e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[e.jsx(S,{className:"h-5 w-5 flex-shrink-0 text-siso-orange group-hover:text-siso-red transition-colors"}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"truncate text-siso-text-bold group-hover:text-siso-text-bold transition-colors",children:"Create New Project"}),e.jsx("span",{className:"text-xs text-siso-text-muted",children:"Get started with your first project"})]})]}):e.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[s!=null&&s.logo?e.jsxs(g,{className:"h-10 w-10 rounded-md border border-siso-border/30",children:[e.jsx(j,{src:"/lovable-uploads/c5921a2f-8856-42f4-bec5-2d08b81c5691.png",alt:s.name}),e.jsx(v,{className:"rounded-md bg-siso-orange/20 text-siso-orange",children:s.name.substring(0,2)})]}):e.jsx(k,{className:"h-5 w-5 flex-shrink-0 text-siso-orange group-hover:text-siso-red transition-colors"}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"truncate text-siso-text-bold group-hover:text-siso-text-bold transition-colors",children:s?s.name:"Select a Project"}),e.jsx("span",{className:"text-xs text-siso-text-muted",children:(s==null?void 0:s.status)==="active"?"Active Project":(s==null?void 0:s.status)==="paused"?"Paused":(s==null?void 0:s.status)==="completed"?"Completed":"Select Project"})]})]}),e.jsx(A,{className:"h-4 w-4 text-siso-text-muted group-hover:text-siso-text transition-colors"})]})}),e.jsxs(D,{align:"start",className:"w-64 bg-siso-bg-alt border-siso-border",children:[!n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"py-2 px-3 text-xs font-medium text-siso-text-muted uppercase tracking-wider",children:"Your Projects"}),h.map(t=>e.jsxs(m,{className:"flex items-center justify-between cursor-pointer hover:bg-black/20 py-2",onClick:()=>u(t.id),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[t.logo?e.jsxs(g,{className:"h-6 w-6 rounded-md",children:[e.jsx(j,{src:t.logo}),e.jsx(v,{className:"rounded-md bg-siso-bg-alt text-siso-text-muted",children:t.name.substring(0,2)})]}):e.jsx(k,{className:`h-4 w-4 ${t.status==="active"?"text-siso-orange":"text-siso-text-muted"}`}),e.jsx("span",{className:"text-siso-text",children:t.name})]}),e.jsx(Z,{variant:"outline",className:`text-xs py-0 px-1.5 ${b(t.status)}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]},t.id)),e.jsx(O,{className:"bg-siso-border"})]}),e.jsxs(m,{className:"flex items-center gap-2 cursor-pointer text-siso-orange hover:text-siso-red hover:bg-black/20",onClick:()=>r("/onboarding-chat"),children:[e.jsx(S,{className:"h-4 w-4"}),e.jsx("span",{children:"Create New Project"})]}),!n&&e.jsx(m,{className:"text-siso-text hover:bg-black/20",onClick:()=>r("/projects"),children:"View all projects"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto py-2",children:e.jsx(le,{collapsed:!c,onItemClick:()=>{},visible:!0})}),e.jsx("div",{className:"p-4 border-t border-siso-border",children:e.jsxs(L,{children:[e.jsx(P,{asChild:!0,children:e.jsx(M,{variant:"ghost",className:"w-full justify-start px-2 hover:bg-siso-bg-alt",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(g,{className:"h-8 w-8 border border-siso-border",children:[e.jsx(j,{src:""}),e.jsx(v,{className:"bg-siso-bg-alt text-siso-orange",children:l?"...":f()})]}),e.jsxs("div",{className:"flex flex-col items-start text-left",children:[e.jsx("span",{className:"text-sm font-medium text-siso-text",children:l?"Loading...":F()}),e.jsx("span",{className:"text-xs text-siso-text-muted",children:E()})]}),e.jsx(A,{className:"ml-auto h-4 w-4 opacity-50"})]})})}),e.jsxs(D,{align:"end",className:"w-56 bg-siso-bg-alt border-siso-border",children:[e.jsxs(m,{className:"text-siso-text",onClick:()=>r("/profile"),children:[e.jsx(V,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Profile & Settings"})]}),e.jsx(O,{className:"bg-siso-border"}),e.jsxs(m,{className:"text-siso-text cursor-pointer",onClick:o,children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Logout"})]})]})]})})]})})})}function he({children:r}){return e.jsxs("div",{className:"flex min-h-screen w-full bg-gradient-to-b from-siso-bg to-black/95",children:[e.jsx(oe,{}),e.jsx("main",{className:"flex-1 overflow-y-auto py-4 px-2 sm:p-8 bg-transparent",children:e.jsx("div",{className:"container mx-auto max-w-6xl",children:r})})]})}export{he as C};
