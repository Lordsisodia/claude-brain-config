var E=Object.defineProperty,b=Object.defineProperties;var h=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var g=(e,r,t)=>r in e?E(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,m=(e,r)=>{for(var t in r||(r={}))S.call(r,t)&&g(e,t,r[t]);if(p)for(var t of p(r))A.call(r,t)&&g(e,t,r[t]);return e},y=(e,r)=>b(e,h(r));var D=(e,r,t)=>new Promise((l,i)=>{var f=o=>{try{n(t.next(o))}catch(a){i(a)}},c=o=>{try{n(t.throw(o))}catch(a){i(a)}},n=o=>o.done?l(o.value):Promise.resolve(o.value).then(f,c);n((t=t.apply(e,r)).next())});import{eb as _,r as s}from"./vendor-C50ijZWh.js";import{s as P}from"./index-Blbobipf.js";const O=_;function R(e){const[r,t]=s.useState(!0),[l,i]=s.useState(null),[f,c]=s.useState(null),n=s.useRef(!0);return s.useEffect(()=>()=>{n.current=!1},[]),s.useEffect(()=>{D(this,null,function*(){if(!e){n.current&&(t(!1),c(new Error("No username provided")));return}try{n.current&&(t(!0),c(null));const{data:a,error:d}=yield P.from("plans").select("*").eq("username",e).single();if(d){console.error("Error fetching plan:",d);const u={id:"123",username:e,company_name:e==="decora"?"Decora Agency":"Siso Agency",app_name:"OnlyFans Management Suite",description:"A comprehensive platform to manage OnlyFans content, analytics, and client relationships.",features:["Content Management","Analytics Dashboard","Client Portal","Messaging System"],branding:{primary_color:"#3182CE",secondary_color:"#805AD5"},estimated_cost:4997,estimated_days:14,status:"draft",industry_type:e==="decora"?"onlyfans-management":"digital-marketing"};n.current&&(i(u),t(!1))}else if(n.current){const u=y(m({},a),{description:a.description||null,branding:typeof a.branding=="string"?JSON.parse(a.branding):a.branding});i(u),t(!1)}}catch(a){console.error("Error in fetchPlanData:",a),n.current&&(c(a instanceof Error?a:new Error(String(a))),t(!1))}})},[e]),{loading:r,planData:l,error:f}}export{O as A,R as u};
