import{r as a}from"./react-core-K6OrF0b-.js";import{d as T,h as _,k as H}from"./ui-navigation-XtA72rrq.js";import{t as I}from"./ui-overlay-Cg06P0_6.js";import{j as u,S as M}from"./ui-core-DJeubg4C.js";function B(e,n,{checkForDefaultPrevented:o=!0}={}){return function(t){if(e?.(t),o===!1||!t.defaultPrevented)return n?.(t)}}function C(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function O(...e){return n=>{let o=!1;const r=e.map(t=>{const s=C(t,n);return!o&&typeof s=="function"&&(o=!0),s});if(o)return()=>{for(let t=0;t<r.length;t++){const s=r[t];typeof s=="function"?s():C(e[t],null)}}}}function q(...e){return a.useCallback(O(...e),e)}var z=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],k=z.reduce((e,n)=>{const o=a.forwardRef((r,t)=>{const{asChild:s,...i}=r,c=s?M:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(c,{...i,ref:t})});return o.displayName=`Primitive.${n}`,{...e,[n]:o}},{}),S="Switch",[A,G]=T(S),[D,F]=A(S),x=a.forwardRef((e,n)=>{const{__scopeSwitch:o,name:r,checked:t,defaultChecked:s,required:i,disabled:c,value:l="on",onCheckedChange:m,form:b,...p}=e,[d,E]=a.useState(null),g=q(n,h=>E(h)),v=a.useRef(!1),w=d?b||!!d.closest("form"):!0,[f=!1,j]=_({prop:t,defaultProp:s,onChange:m});return u.jsxs(D,{scope:o,checked:f,disabled:c,children:[u.jsx(k.button,{type:"button",role:"switch","aria-checked":f,"aria-required":i,"data-state":R(f),"data-disabled":c?"":void 0,disabled:c,value:l,...p,ref:g,onClick:B(e.onClick,h=>{j(N=>!N),w&&(v.current=h.isPropagationStopped(),v.current||h.stopPropagation())})}),w&&u.jsx(L,{control:d,bubbles:!v.current,name:r,value:l,checked:f,required:i,disabled:c,form:b,style:{transform:"translateX(-100%)"}})]})});x.displayName=S;var y="SwitchThumb",P=a.forwardRef((e,n)=>{const{__scopeSwitch:o,...r}=e,t=F(y,o);return u.jsx(k.span,{"data-state":R(t.checked),"data-disabled":t.disabled?"":void 0,...r,ref:n})});P.displayName=y;var L=e=>{const{control:n,checked:o,bubbles:r=!0,...t}=e,s=a.useRef(null),i=H(o),c=I(n);return a.useEffect(()=>{const l=s.current,m=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(m,"checked").set;if(i!==o&&p){const d=new Event("click",{bubbles:r});p.call(l,o),l.dispatchEvent(d)}},[i,o,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...t,tabIndex:-1,ref:s,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function R(e){return e?"checked":"unchecked"}var J=x,K=P;export{J as R,K as T};
